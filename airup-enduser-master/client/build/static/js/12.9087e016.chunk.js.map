{"version":3,"sources":["components/selector/Selector.js","../node_modules/lodash/fromPairs.js","components/table/Table.js","components/advertisement/Advertisement.js","components/product/Track.js","../node_modules/lodash/size.js","../node_modules/lodash/_stringSize.js","../node_modules/lodash/_asciiSize.js","../node_modules/lodash/_unicodeSize.js","assets/advertisements/SERP _header_banner.png","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","components/breadcrumbs/Breadcrumbs.js","components/utils/Switch.js","components/search/Search.js"],"names":["Selector","args","bind","overlay","React","createRef","selected","state","active","this","props","busy","children","className","data","disabled","item","title","hide","show","toggle","clsx","onClick","freeze","isFunction","value","ref","keys","map","key","isActive","caption","onSelect","click","watch","APP_CLICK","isUndefined","reference","current","getReference","scrollTop","offsetTop","cancel","pick","setState","onHide","name","onShow","Component","module","exports","pairs","index","length","result","pair","Table","head","row","sort","field","isString","getSortLink","isObject","query","route","order","checked","slice","id","i","indexOf","even","odd","infinite","action","join","checkEnd","unscroll","onScroll","direct","updates","allowance","getScroll","height","position","onReachEnd","icon","url","to","Advertisement","href","link","window","location","origin","target","src","alt","Track","button","variant","isEmpty","auth","message","ok","exclusive","onConfirm","onSignUp","size","call","track","payload","isWithinElement","product","Promise","resolve","redirect","e","_id","when","trackProducts","then","reloadProducts","catch","dispatch","appClick","connect","api","user","baseKeys","require","getTag","isArrayLike","stringSize","collection","tag","asciiSize","hasUnicode","unicodeSize","string","baseProperty","rsAstral","rsCombo","rsFitz","rsNonAstral","rsRegional","rsSurrPair","reOptMod","rsSeq","rsSymbol","reUnicode","RegExp","lastIndex","test","asyncGeneratorStep","gen","reject","_next","_throw","arg","info","error","done","Breadcrumbs","links","Loader","Icon","SwitchButton","showOnlySTC","onStcShowChange","type","onChange","sortFields","manufacturer","certificates","stcMatch","updated_at","sortKeys","Search","breadcrumbs","tracking","PRODUCTS","search_filters","device","products","model","aircraft","smDown","includes","getAircraft","updatedProducts","JSON","parse","stringify","Object","values","forEach","includeSTCMake","includeSTCModel","cert","ctype","isStc","aircraft_make","aircraft_makes","aircraft_models","some","AdHeader1","extend","certificate","split","onCertificateRemove","Hangar","loggedOut","Checkbox","style","display","alignItems","colSpan","Button","marginRight","Switch","manageStcOnlySwitchChange","marginLeft","permalink","toQuery","moment","format","manageBreadcrumbs","manageSearch","reset","removeCertificateFilter","count","year","aircraft_model","first","make","newLinks","modelUrl","isEqual","getAircraftMake","setBreadcrumbs","AIRCRAFT_MODEL","getAircraftModel","AIRCRAFT_MAKE","filters","manufacturerFilters","aircraftMakesFilters","aircraftModelsFilters","manufacturers","filter","m","x","aircrafts","makeIndex","splice","Boolean","approved","hangar","push","getProducts","getProductCountForCertificates","limit","setSidebarSearch","fn","callback","fromPairs","self","arguments","apply","err","undefined","app","search","router","routeQuery"],"mappings":"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","file":"static/js/12.9087e016.chunk.js","sourcesContent":["import isFunction from 'lodash/isFunction';\nimport isUndefined from 'lodash/isUndefined';\nimport keys from 'lodash/keys';\nimport pick from 'lodash/pick';\nimport React, { Component } from 'react';\nimport clsx from 'clsx';\n\nimport { bind, freeze } from '../../utils';\nimport { watch } from '../../store';\nimport { APP_CLICK } from '../app/actions';\nimport './Selector.scss';\nimport Icon from '../utils/Icon';\nimport Loader from '../utils/loader/Loader';\n\n/**\n * Selector component\n */\nexport default class Selector extends Component {\n\n  constructor(...args) {\n    super(...args);\n    bind(this, [\n      'hide',\n      'onSelect',\n      'show',\n      'toggle'\n    ]);\n    this.overlay = React.createRef();\n    this.selected = React.createRef();\n    this.state = {\n      active: false\n    };\n  }\n\n  render() {\n    const { busy, children, className, data = {}, disabled, item, selected, title } = this.props,\n          { active } = this.state,\n          { hide, show, toggle } = this;\n    return (\n      <span className={clsx('Selector', className, { active, disabled })} onClick={freeze(show)}>\n        {(isFunction(children) ?\n          children({ hide, show, toggle }) :\n          <Icon value=\"fas-caret-down\" />\n        )}\n        <div className=\"selector-overlay\" ref={this.overlay}>\n          {(busy ?\n            <Loader /> :\n            <ul>\n              {keys(data).map((key) => {\n                const isActive = (key === selected),\n                      caption = isFunction(item) ? item(data[key], key) : data[key];\n                return (\n                  <li\n                    key={key}\n                    className={clsx({ active: isActive })}\n                    title={isFunction(title) ? title(data[key]) : caption}\n                    {...(isActive ? { ref: this.selected } : {})}\n                    onClick={freeze(this.onSelect, key)}>\n                    {caption}\n                  </li>\n                );\n              })}\n            </ul>\n          )}\n        </div>\n      </span>\n    )\n  }\n\n  componentDidMount() {\n    this.click = watch([APP_CLICK], this.hide);\n    if (!isUndefined(this.props.reference)) {\n      this.props.reference.current = this.getReference();\n    }\n  }\n\n  componentDidUpdate(props, state) {\n    if (this.props.reference !== props.reference) {\n      this.props.reference.current = this.getReference();\n    }\n    if (this.state.active) {\n      if (this.props.selected && this.selected.current) {\n        this.overlay.current.scrollTop = this.selected.current.offsetTop - 10;\n      } else if (this.state.active !== state.active) {\n        this.overlay.current.scrollTop = 0;\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    this.click.cancel();\n    if (!isUndefined(this.props.reference)) {\n      this.props.reference.current = null;\n    }\n  }\n\n  /**\n   * Get selector reference\n   */\n  getReference() {\n    return pick(this, [\n      'hide',\n      'show'\n    ]);\n  }\n\n  /**\n   * Hide\n   */\n  hide() {\n    this.setState({\n      active: false\n    });\n    if (isFunction(this.props.onHide)) {\n      this.props.onHide();\n    }\n  }\n\n  /**\n   * Select an item\n   */\n  onSelect(name) {\n    if (isFunction(this.props.onSelect)) {\n      this.props.onSelect(this.props.data[name], name);\n    }\n    this.hide();\n  }\n\n  /**\n   * Show overlay\n   */\n  show() {\n    if (this.props.disabled) {\n      return;\n    }\n    this.setState({\n      active: true\n    });\n    if (isFunction(this.props.onShow)) {\n      this.props.onShow();\n    }\n  }\n\n  /**\n   * Toggle\n   */\n  toggle() {\n    return this[this.state.active ? 'hide' : 'show']();\n  }\n}\n","/**\n * The inverse of `_.toPairs`; this method returns an object composed\n * from key-value `pairs`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} pairs The key-value pairs.\n * @returns {Object} Returns the new object.\n * @example\n *\n * _.fromPairs([['a', 1], ['b', 2]]);\n * // => { 'a': 1, 'b': 2 }\n */\nfunction fromPairs(pairs) {\n  var index = -1,\n      length = pairs == null ? 0 : pairs.length,\n      result = {};\n\n  while (++index < length) {\n    var pair = pairs[index];\n    result[pair[0]] = pair[1];\n  }\n  return result;\n}\n\nmodule.exports = fromPairs;\n","import isFunction from 'lodash/isFunction';\nimport isObject from 'lodash/isObject';\nimport isString from 'lodash/isString';\nimport keys from 'lodash/keys';\nimport React, { Component, Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport clsx from 'clsx';\n\nimport { join, watch } from '../../store';\nimport { freeze, getScroll, onScroll, sort } from '../../utils';\nimport './Table.scss';\nimport Icon from '../utils/Icon';\nimport Loader from '../utils/loader/Loader';\nimport Selector from '../selector/Selector';\n\n/**\n * Table component\n */\nexport default class Table extends Component {\n\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      keys: [],\n      selected: []\n    };\n  }\n\n  render() {\n    const { busy, children, data } = this.props,\n          { selected } = this.state,\n          { head, row } = children();\n    return (\n      <div className={clsx('Table', { busy })}>\n        {(!busy ? '' :\n          <Loader />\n        )}\n        <table>\n          <thead>\n            {head && head({\n              selected: (selected.length && (selected.length === this.state.keys.length)),\n              sort: (field, title) => {\n                if (isString(field)) {\n                  return this.getSortLink(field, title);\n                } else if (isObject(field)) {\n                  const { query } = this.props.route;\n                  return (\n                    <Selector\n                      className=\"sort-selector\"\n                      data={field}\n                      item={(caption, key) => this.getSortLink(key, caption)}\n                      title={(caption) => caption}>\n                      {({ toggle }) => (\n                        <span onClick={freeze(toggle)}>\n                          <span>{field[query.sort] || title || 'Sort by'}</span>\n                          <Icon value={'fa-chevron-' + ((query.order === 'desc') ? 'up' : 'down')} />\n                        </span>\n                      )}\n                    </Selector>\n                  );\n                }\n              },\n              state: this.state,\n              toggle: (checked) => {\n                this.setState((state) => ({\n                  ...state,\n                  selected: checked ? state.keys.slice(0) : []\n                }));\n              }\n            })}\n          </thead>\n          <tbody>\n            {this.state.keys.map((id, i) => {\n              const index = selected.indexOf(id),\n                    even = (i % 2);\n              if (!data[id]) {\n                return (\n                  <Fragment key={id}></Fragment>\n                );\n              }\n              return (\n                <Fragment key={id}>\n                  {row(data[id], {\n                    even,\n                    index: i,\n                    odd: !even,\n                    selected: index >= 0,\n                    toggle: (checked) => {\n                      if (checked && index < 0) {\n                        this.setState({\n                          selected: [\n                            ...selected,\n                            id\n                          ]\n                        });\n                      } else if (!checked && index >= 0) {\n                        this.setState({\n                          selected: [\n                            ...selected.slice(0, index),\n                            ...selected.slice(index + 1)\n                          ]\n                        });\n                      }\n                    }\n                  })}\n                </Fragment>\n              );\n            })}\n          </tbody>\n        </table>\n      </div>\n    )\n  }\n\n  componentDidMount() {\n    if (this.props.infinite) {\n      const { action } = this.props.infinite;\n      this.action = watch([join(action, 'COMPLETE')], () => {\n        this.checkEnd();\n      });\n      this.unscroll = onScroll(() => {\n        if (!this.props.busy) {\n          this.checkEnd();\n        }\n      });\n    }\n  }\n\n  componentDidUpdate(props) {\n    if (this.props.data !== props.data || (this.props.direct && !this.state.keys.length)) {\n      const updates = {\n        keys: keys(this.props.data)\n      };\n      this.setState(updates);\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.action) {\n      this.action.cancel();\n      this.unscroll();\n    }\n  }\n\n  /**\n   * Check if reached end\n   */\n  checkEnd(allowance = 50) {\n    const { height, position } = getScroll();\n    if (position > (height - allowance)) {\n      if (this.props.infinite && isFunction(this.props.infinite.onReachEnd)) {\n        this.props.infinite.onReachEnd();\n      }\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  /**\n   * Get sort link\n   */\n  getSortLink(field, title) {\n    const { active, icon, url } = sort(this.props.route, field);\n    return (\n      <Link to={url} className={clsx('sort', { active })}>\n        <span>{title}</span>\n        <Icon value={'fas-' + icon} />\n      </Link>\n    );\n  }\n}\n","import React, { Component } from 'react';\n\nimport './Advertisement.scss';\n\n/**\n * Advertisement component\n */\nclass Advertisement extends Component {\n\n  render() {\n    return (\n      <a href={this.props.link || `${window.location.origin}/advertisement`} target=\"_blank\" className=\"Advertisement\">\n        <img src={this.props.url} alt=\"\"/>\n      </a>\n    );\n  }\n}\n\nexport default Advertisement;\n","import isEmpty from 'lodash/isEmpty';\nimport React, { Component, createRef } from 'react';\nimport { connect } from 'react-redux';\nimport clsx from 'clsx';\n\nimport { redirect } from '../../routes';\nimport { watch, when } from '../../store';\nimport { bind, call, freeze, isWithinElement } from '../../utils';\nimport { APP_CLICK, appClick } from '../app/actions';\nimport { reloadProducts, trackProducts } from '../../api/product/actions';\nimport './Track.scss';\nimport Button from '../utils/Button';\nimport Confirm from '../popups/Confirm';\nimport Icon from '../utils/Icon';\n\n/**\n * Track\n */\nclass Track extends Component {\n\n  constructor(...args) {\n    super(...args);\n    this.button = createRef();\n    this.state = {\n      busy: false,\n      overlay: false\n    };\n    bind(this, [\n      'onClick',\n      'onSignUp',\n      'toggle',\n      'track'\n    ]);\n  }\n\n  render() {\n    const { variant = 'dark-blue' } = this.props,\n          { busy, overlay } = this.state,\n          active = this.isActive();\n    if (isEmpty(this.props.auth.data)) {\n      return (\n        <Confirm\n          message=\"Register to start tracking the latest updates!\"\n          ok={{\n            exclusive: true,\n            title: 'Sign Up',\n            variant: 'red'\n          }}\n          onConfirm={this.onSignUp}>\n          {({ show }) => (\n            <Button\n              variant={variant}\n              size=\"sm\"\n              className=\"Track\"\n              disabled={busy || this.props.busy}\n              onClick={show}>\n              Track Updates\n            </Button>\n          )}\n        </Confirm>\n      );\n    }\n    return (\n      <Button\n        variant={active ? 'empty' : variant}\n        size=\"sm\"\n        className={clsx('Track', { active, overlay })}\n        disabled={busy || this.props.busy}\n        onClick={call(this.onClick)}\n        ref={this.button}>\n        {(active ?\n          <>\n            <Icon value=\"fa-check\" />\n            <span>Tracked in Hangar</span>\n            <div className=\"untrack-overlay\" onClick={freeze(this.track, false)}>\n              Untrack Updates\n            </div>\n            <Icon value=\"fas-caret-down\" />\n          </> :\n          <>Track Updates</>\n        )}\n      </Button>\n    );\n  }\n\n  componentDidMount() {\n    this.watch = watch([APP_CLICK], ({ payload }) => {\n      if (!isWithinElement(this.button.current, payload.target)) {\n        this.toggle(false);\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    this.watch.cancel();\n  }\n\n  /**\n   * Is active\n   */\n  isActive() {\n    return this.props.product.updates > 0;\n  }\n\n  /**\n   * onClick\n   */\n  onClick() {\n    if (this.isActive()) {\n      this.toggle(true);\n    } else {\n      this.track(true);\n    }\n  }\n\n  /**\n   * On signup\n   */\n  onSignUp() {\n    return Promise.resolve(() => (\n      redirect('/register')\n    ));\n  }\n\n  /**\n   * Toggle overlay\n   */\n  toggle(overlay = !this.state.overlay) {\n    this.setState({\n      overlay\n    });\n  }\n\n  /**\n   * Track\n   */\n  track(track, e) {\n    const id = [this.props.product._id];\n    this.setState({\n      busy: true\n    });\n    when(trackProducts({ id, track })).then(() => (\n      when(reloadProducts({ id }))\n    )).catch(() => (\n      Promise.resolve()\n    )).then(() => {\n      this.setState({\n        busy: false\n      });\n    });\n    if (!track && e) {\n      this.toggle(false);\n      this.props.dispatch(appClick(e));\n    }\n  }\n}\n\nexport default connect(({ api: { user } }) => {\n  return {\n    auth: user.auth\n  };\n})(Track);\n","var baseKeys = require('./_baseKeys'),\n    getTag = require('./_getTag'),\n    isArrayLike = require('./isArrayLike'),\n    isString = require('./isString'),\n    stringSize = require('./_stringSize');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    setTag = '[object Set]';\n\n/**\n * Gets the size of `collection` by returning its length for array-like\n * values or the number of own enumerable string keyed properties for objects.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object|string} collection The collection to inspect.\n * @returns {number} Returns the collection size.\n * @example\n *\n * _.size([1, 2, 3]);\n * // => 3\n *\n * _.size({ 'a': 1, 'b': 2 });\n * // => 2\n *\n * _.size('pebbles');\n * // => 7\n */\nfunction size(collection) {\n  if (collection == null) {\n    return 0;\n  }\n  if (isArrayLike(collection)) {\n    return isString(collection) ? stringSize(collection) : collection.length;\n  }\n  var tag = getTag(collection);\n  if (tag == mapTag || tag == setTag) {\n    return collection.size;\n  }\n  return baseKeys(collection).length;\n}\n\nmodule.exports = size;\n","var asciiSize = require('./_asciiSize'),\n    hasUnicode = require('./_hasUnicode'),\n    unicodeSize = require('./_unicodeSize');\n\n/**\n * Gets the number of symbols in `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the string size.\n */\nfunction stringSize(string) {\n  return hasUnicode(string)\n    ? unicodeSize(string)\n    : asciiSize(string);\n}\n\nmodule.exports = stringSize;\n","var baseProperty = require('./_baseProperty');\n\n/**\n * Gets the size of an ASCII `string`.\n *\n * @private\n * @param {string} string The string inspect.\n * @returns {number} Returns the string size.\n */\nvar asciiSize = baseProperty('length');\n\nmodule.exports = asciiSize;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsAstral = '[' + rsAstralRange + ']',\n    rsCombo = '[' + rsComboRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\nvar reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n/**\n * Gets the size of a Unicode `string`.\n *\n * @private\n * @param {string} string The string inspect.\n * @returns {number} Returns the string size.\n */\nfunction unicodeSize(string) {\n  var result = reUnicode.lastIndex = 0;\n  while (reUnicode.test(string)) {\n    ++result;\n  }\n  return result;\n}\n\nmodule.exports = unicodeSize;\n","module.exports = __webpack_public_path__ + \"static/media/SERP _header_banner.538d9dcb.png\";","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import keys from 'lodash/keys';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport './Breadcrumbs.scss';\nimport Icon from '../utils/Icon';\nimport Loader from '../utils/loader/Loader';\n\n/**\n * Breadcrumbs component\n */\nexport default function Breadcrumbs({ busy, links, children }) {\n  return (\n    <div className=\"Breadcrumbs\">\n      {(busy ?\n        <Loader /> :\n        <ul>\n          {keys(links).map((key) => (\n            <li key={key}>\n              <Link to={key}>\n                <span>{links[key]}</span>\n                <Icon value=\"fa-chevron-right\" />\n              </Link>\n            </li>\n          ))}\n        </ul>\n      )}\n      {children}\n    </div>\n  );\n}\n","import React, {Fragment} from 'react';\n\nfunction SwitchButton({\n                        showOnlySTC,\n                        onStcShowChange,\n                        children\n                      }) {\n  return <Fragment>\n    <label className=\"switch-button\">\n      <input type=\"checkbox\" checked={showOnlySTC} onChange={onStcShowChange}/>\n        <span className=\"slider-button round\"/>\n    </label>\n    {children}\n  </Fragment>\n}\n\nexport default SwitchButton;\n","import fromPairs from 'lodash/fromPairs';\nimport includes from 'lodash/includes';\nimport isEmpty from 'lodash/isEmpty';\nimport isEqual from 'lodash/isEqual';\nimport isFunction from 'lodash/isFunction';\nimport isUndefined from 'lodash/isUndefined';\nimport keys from 'lodash/keys';\nimport size from 'lodash/size';\nimport React, {Component, Fragment} from 'react';\nimport {connect} from 'react-redux';\nimport {Link} from 'react-router-dom';\nimport clsx from 'clsx';\nimport moment from 'moment';\n\nimport {bind, call, toQuery} from '../../utils';\nimport {routeQuery} from '../../routes';\nimport {reset, when} from '../../store';\nimport {\n  AIRCRAFT_MAKE,\n  AIRCRAFT_MODEL,\n  getAircraftMake,\n  getAircraftModel\n} from '../../api/aircraft/actions';\nimport {\n  PRODUCTS,\n  getProducts,\n  reloadProducts,\n  trackProducts,\n  getProductCountForCertificates\n} from '../../api/product/actions';\nimport './Search.scss';\nimport Advertisement from '../advertisement/Advertisement';\nimport Breadcrumbs from '../breadcrumbs/Breadcrumbs';\nimport Button from '../utils/Button';\nimport SwitchButton from '../utils/Switch';\nimport Checkbox from '../inputs/checkbox/Checkbox';\nimport Hangar from '../popups/Hangar';\nimport Table from '../table/Table';\nimport Track from '../product/Track';\nimport { filter, pick } from 'lodash';\nimport { removeCertificateFilter, setSidebarSearch } from '../app/actions';\n\nimport AdHeader1 from '../../assets/advertisements/SERP _header_banner.png';\n\n/**\n * Sort fields\n */\nexport const sortFields = {\n  name: 'Product Name',\n  manufacturer: 'Manufacturer',\n  certificates: 'FAA-Approvals',\n  stcMatch: 'STC Match',\n  updated_at: 'Last Approved'\n};\n\n/**\n * Sort keys\n */\nexport const sortKeys = keys(sortFields);\n\n/**\n * Search component\n */\nclass Search extends Component {\n\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      breadcrumbs: {\n        busy: true,\n        links: {}\n      },\n      showOnlySTC: false,\n      tracking: {}\n    };\n    bind(this, [\n      'onReachEnd',\n      'reset',\n      'track',\n      'manageStcOnlySwitchChange'\n    ]);\n    this.infinite = {\n      action: PRODUCTS,\n      onReachEnd: this.onReachEnd\n    };\n  }\n\n  render() {\n    const {search_filters = {}, device, products, route, auth: {user: {data: user}} = {}, aircraft: {model}} = this.props,\n      smDown = includes(['xs', 'sm'], device),\n      aircraft = this.getAircraft();\n\n    let updatedProducts = JSON.parse(JSON.stringify(products));\n\n    Object.values(updatedProducts.data).forEach((product) => {\n      let includeSTCMake = false, includeSTCModel = false;\n\n      product.certificates && product.certificates.length && product.certificates.forEach((cert) => {\n        if (cert.ctype === 'STC') {\n          product.isStc = true;\n          if (model.data && model.data._id && model.data.aircraft_make && model.data.aircraft_make._id && cert.aircraft_makes.includes(model.data.aircraft_make._id)) {\n            includeSTCMake = true;\n          }\n          if (model.data._id && cert.aircraft_models.includes(model.data._id)) {\n            includeSTCModel = true;\n          }\n        }\n      });\n\n      product.includeSTCMake = includeSTCMake;\n      product.includeSTCModel = includeSTCModel;\n\n    });\n\n\n    if (this.state.showOnlySTC) {\n      Object.values(updatedProducts.data).forEach((product) => {\n        let isStc = product.certificates && product.certificates.length && product.certificates.some((cert) => {\n          return cert.ctype === 'STC'\n        });\n\n        if (!isStc) {\n          delete updatedProducts.data[product._id];\n        }\n      })\n    }\n\n    return (\n      <div className=\"Search\">\n        <div className=\"header\">\n          <Advertisement url={AdHeader1}/>\n          <Breadcrumbs {...this.state.breadcrumbs}>\n            {this.props.search_filters && this.props.search_filters.extend?.certificate && this.props.search_filters.extend?.certificate.split(',').map((certificate) => {\n              return <Fragment>\n                <span className=\"tag-block\">{certificate} <span\n                  onClick={() => this.onCertificateRemove(certificate)} className=\"close-tag\">x</span></span>\n              </Fragment>\n            })}\n          </Breadcrumbs>\n          <Hangar aircraft={aircraft} loggedOut={!(user && user._id)}>\n            {({show}) => (\n              <span className={clsx('add-to-hangar', {disabled: !aircraft})} onClick={show}>\n                + Add aircraft to hangar\n              </span>\n            )}\n          </Hangar>\n        </div>\n        <Table {...updatedProducts} infinite={this.infinite} route={route}>\n          {() => ({\n            head: ({selected, sort, state, toggle}) => {\n              const disabled = !state.selected.length || !isEmpty(this.state.tracking);\n              return (\n                <>\n                  <tr>\n                    <th>\n                      <Checkbox icon=\"fa-minus\" value={selected} size=\"sm\" onChange={call(toggle, !selected)}>\n                        {selected ? 'Deselect' : 'Select'} All ({size(products.data)})\n                      </Checkbox>\n                    </th>\n                    {(smDown ? <></> :\n                        <>\n                          <th style={{display: 'flex', alignItems: 'center'}} colSpan=\"2\">\n                            <Button\n                              variant=\"dark-blue\"\n                              size=\"sm\"\n                              className={clsx('track-multiple')}\n                              style={{marginRight: '5px'}}\n                              disabled={disabled}\n                              onClick={call(this.track, state.selected, call(toggle, false))}\n                            >\n                              Track Selected ({state.selected.length})\n                            </Button>\n                            <div className=\"custom-switch\">\n                              <SwitchButton showOnlySTC={state.showOnlySTC}\n                                            onStcShowChange={this.manageStcOnlySwitchChange}>\n                                <span style={{marginLeft: '5px'}}> STC Matches Only</span>\n                              </SwitchButton>\n                            </div>\n                          </th>\n                          <th></th>\n                          <th></th>\n                          <th></th>\n                          {model && model.data && model.data._id && ['multiple', 'hangar'].indexOf(search_filters.aircraft) == -1 && <th/>}\n                        </>\n                    )}\n                    <th>\n                      {(smDown ? sort(sortFields) :\n                          <span\n                            className={clsx('untrack-multiple', {disabled})}\n                            onClick={call(this.track, state.selected, call(toggle, false), false)}>\n                          Untrack selected ({state.selected.length})\n                        </span>\n                      )}\n                    </th>\n                  </tr>\n                  {(smDown ? <></> :\n                      <tr>\n                        <th></th>\n                        {sortKeys.map((key) => {\n                          if (key === 'stcMatch' && ((!model.data._id) || ['multiple', 'hangar'].indexOf(search_filters.aircraft) != -1)) {\n                            return null;\n                          }\n                          return <th key={key}>{sort(key, sortFields[key])}</th>\n                        })}\n                        <th></th>\n                      </tr>\n                  )}\n                </>\n              );\n            },\n            row: (product, {odd, selected, toggle}) => {\n              const {certificates, manufacturer, name, permalink, updated_at, isStc} = product,\n                active = false;\n              return (\n                <tr className={clsx({active, odd, selected})}>\n                  <td><Checkbox value={selected} size=\"sm\" onChange={call(toggle, !selected)}/></td>\n                  <td>\n                    <Link className=\"link-product\" to={'/products/' + permalink + toQuery(route.query)}>\n                      {name}\n                    </Link>\n                    {(!smDown ? <></> :\n                        <>\n                          <br/>\n                          <Link className=\"link-manufacturer\" to=\"/\">{manufacturer.name}</Link><br/>\n                          <span\n                            className=\"text-last-approved\">Last approved on {moment(updated_at).format('MMM DD, YYYY')}</span><br/>\n                          <Track product={product}/>\n                        </>\n                    )}\n                  </td>\n                  {(smDown ? <></> :\n                      <>\n                        <td><Link to=\"/\">{manufacturer.name}</Link></td>\n                        <td>\n                          {certificates && certificates.length ? certificates.map((cert, i) => (<Fragment key={i}>\n                            <a href={`/api/v1/certificates/pdf/${cert.permalink}`} key={i}\n                               target={\"_blank\"}>{cert.name}</a>{i < certificates.length - 1 && ', '}\n                          </Fragment>)) : '-'}\n                        </td>\n                        {model && model.data && model.data._id && ['multiple', 'hangar'].indexOf(search_filters.aircraft) == -1 &&\n                        <td>\n                          <span\n                            className={!product.includeSTCMake ? 'stc-no-match' : ''}>{model.data.aircraft_make.name} &nbsp;\n                            {product.includeSTCMake ? <span>&#10003;</span> : '?'} &nbsp; &nbsp;\n                         </span>\n\n                          <span className={!product.includeSTCModel ? 'stc-no-match' : ''}>\n                            {model.data.name} &nbsp;\n                            {product.includeSTCModel ? <span>&#10003;</span> : '?'} &nbsp; &nbsp;\n                            </span>\n                        </td>}\n                        <td>{moment(updated_at).format('MMM DD, YYYY')}</td>\n                        <td>\n                          <Track\n                            busy={this.state.tracking[product._id]}\n                            product={product}\n                          />\n                        </td>\n                      </>\n                  )}\n                </tr>\n              );\n            }\n          })}\n        </Table>\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    this.manageBreadcrumbs();\n    this.manageSearch();\n  }\n\n  componentDidUpdate(props, state) {\n    this.manageBreadcrumbs(props, state);\n    this.manageSearch(props, state);\n  }\n\n  componentWillUnmount() {\n    this.reset();\n  }\n\n  onCertificateRemove(cert) {\n    this.props.dispatch(removeCertificateFilter(cert));\n  }\n\n  /**\n   * Get aircraft\n   */\n  getAircraft() {\n    if (!this.props.aircraft.model.count) {\n      return null;\n    }\n    const {year} = this.props.route.query || {};\n    return {\n      aircraft_model: {\n        ...this.props.aircraft.model.data\n      },\n      ...(year ? {year} : {})\n    };\n  }\n\n  /**\n   * Manage breadcrumbs\n   */\n  manageBreadcrumbs(props, state) {\n    const first = isUndefined(props) && isUndefined(state),\n      { dispatch } = this.props,\n      { make, model } = this.props.aircraft,\n      { query } = this.props.route,\n      { year } = query;\n    let newLinks = {};\n    if (query.aircraft_make && make && make.data.permalink) {\n      newLinks['/search?aircraft_make=' + make.data.permalink] = make.data.name\n    }\n    if (query.aircraft_model && model && model.data && model.data.permalink) {\n      const modelUrl = '/search?aircraft_model=' + model.data.permalink;\n      newLinks['/search?aircraft_make=' + model.data.aircraft_make.permalink] = model.data.aircraft_make.name;\n      newLinks[modelUrl] = model.data.name;\n      if (query.year) {\n        newLinks[modelUrl + '&year=' + year] = query.year\n      }\n    }\n    if (!first && props.search_filters && ['multiple', 'hangar'].indexOf(this.props.search_filters.aircraft) != -1) {\n      newLinks = {\n        '/search': 'Multiple'\n      };\n    }\n    if (first || !isEqual(query, pick(props.route.query, ['aircraft_make', 'aircraft_model']))) {\n      if (\n        query.aircraft_model &&\n        (\n          !(model && (model.busy || (model.data && model.data.permalink)))\n        )\n      ) {\n        dispatch(getAircraftModel(query.aircraft_model));\n        reset(AIRCRAFT_MAKE);\n        this.setBreadcrumbs();\n      } else if (\n        query.aircraft_make &&\n        (\n          !(make && (make.busy || (make.data && make.data.permalink)))\n        )\n      ) {\n        dispatch(getAircraftMake(query.aircraft_make));\n        this.setBreadcrumbs();\n        reset(AIRCRAFT_MODEL);\n      } else if (state && state.breadcrumbs && state.breadcrumbs.busy) {\n        this.setState(({breadcrumbs}) => ({\n          breadcrumbs: {\n            ...breadcrumbs,\n            busy: false\n          }\n        }));\n      }\n    }\n    if (!first && (\n      !isEqual(newLinks, this.state.breadcrumbs.links) ||\n      (!(make.busy || model.busy) && this.state.breadcrumbs.busy)\n    )) {\n      this.setState({\n        breadcrumbs: {\n          busy: false,\n          links: {\n            ...newLinks\n          }\n        }\n      });\n    }\n  }\n\n  manageStcOnlySwitchChange({target: {checked}}) {\n    this.setState({\n      showOnlySTC: checked\n    })\n  }\n\n  /**\n   * Manage search\n   */\n  manageSearch(props, state) {\n    const first = isUndefined(props) && isUndefined(state);\n    const query = this.props.route.query;\n\n    let filters = this.props.search_filters;\n\n    let manufacturerFilters = [];\n    let aircraftMakesFilters = [];\n    let aircraftModelsFilters = [];\n\n    if (filters.manufacturers) {\n      manufacturerFilters = filters.manufacturers.filter(m => m.active == true).map(x => {\n        return x.manufacturer.value._id + \"\"\n      })\n\n      query.manufacturers = manufacturerFilters\n    }\n\n    if (filters.aircrafts) {\n      aircraftMakesFilters = filters.aircrafts.filter(m => m.active == true && m.make.value).map(x => {\n        return x.make.value._id + \"\"\n      });\n      aircraftModelsFilters = filters.aircrafts.filter(m => m.active == true && m.model.value).map(x => {\n        const makeIndex = aircraftMakesFilters.indexOf(x.model.value.aircraft_make._id);\n        if (makeIndex != -1) {\n          aircraftMakesFilters.splice(makeIndex, 1);\n        }\n        return x.model.value._id + \"\"\n      });\n      \n      query[(Boolean(query.approved) ? 'approved_' : '') + 'aircraft_makes'] = aircraftMakesFilters;\n      query[(Boolean(query.approved) ? 'approved_' : '') + 'aircraft_models'] = aircraftModelsFilters;\n      if (\n        ['multiple', 'hangar'].indexOf(filters.aircraft) != -1 &&\n        query.aircraft_model &&\n        (aircraftMakesFilters.length || aircraftModelsFilters.length)\n      ) {\n        delete query.aircraft_model;\n      }\n    }\n    if (filters.hangar && filters.hangar.filter(m => m.active).length) {\n      aircraftModelsFilters = filters.hangar.filter(m => m.active == true && m.aircraft.value && m.aircraft.value.aircraft_model).map(x => {\n        aircraftMakesFilters.push(x.aircraft.value.aircraft_model.aircraft_make._id + \"\");\n        return x.aircraft.value.aircraft_model._id + \"\"\n      });\n\n      query.aircraft_models = aircraftModelsFilters\n    }\n\n    if (filters.extend && filters.extend.certificate) {\n      query.certificate = filters.extend.certificate\n    }\n\n    if (filters.name) {\n      query.name = filters.name\n    }\n\n\n    if (first || !isEqual(query, props.route.query)) {\n      this.props.dispatch(getProducts(query));\n      this.props.dispatch(getProductCountForCertificates(query));\n    }\n  }\n\n  /**\n   * On reach end\n   */\n  onReachEnd() {\n    const length = size(this.props.products.data);\n    if (length < this.props.products.count) {\n      const {query} = this.props.route;\n      this.props.dispatch(getProducts({\n        ...query,\n        limit: length + 10\n      }));\n    }\n  }\n\n  /**\n   * Reset\n   */\n  reset() {\n    this.props.dispatch(setSidebarSearch([]));\n    reset(AIRCRAFT_MAKE, AIRCRAFT_MODEL, PRODUCTS);\n    this.setBreadcrumbs();\n  }\n\n  handleSidebarSearch(products) {\n\n\n  }\n\n  /**\n   * Set breadcrumbs\n   */\n  setBreadcrumbs(links = {}) {\n    this.setState({\n      breadcrumbs: {\n        busy: isEmpty(links),\n        links\n      }\n    });\n  }\n\n  /**\n   * Track\n   */\n  async track(selected, callback, track = true) {\n    this.setState({\n      tracking: fromPairs(selected.map((id) => [id, true]))\n    });\n    try {\n      await when(trackProducts({\n        id: selected,\n        track\n      }));\n      await when(reloadProducts({\n        id: selected\n      }));\n    } catch (error) {\n      await Promise.resolve();\n    }\n    if (isFunction(callback)) {\n      callback();\n    }\n    this.setState({\n      tracking: {}\n    });\n  }\n}\n\nexport default connect((state) => {\n  const {api: {aircraft, product, user: {auth}}, app: {device, search}, router} = state;\n  return {\n    device,\n    aircraft: {\n      make: aircraft.make,\n      model: aircraft.model\n    },\n    auth: {user: auth},\n    products: product.products,\n    search_filters: search,\n    route: routeQuery(router)\n  };\n})(Search);\n"],"sourceRoot":""}