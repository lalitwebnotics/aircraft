{"version":3,"sources":["components/selector/Selector.js","components/table/Table.js","components/media/Media.js","components/media/Image.js","components/slider/Slider.js","components/hangar/Aircraft.js"],"names":["Selector","args","bind","overlay","React","createRef","selected","state","active","this","props","busy","children","className","data","disabled","item","title","hide","show","toggle","clsx","onClick","freeze","isFunction","value","ref","keys","map","key","isActive","caption","onSelect","click","watch","APP_CLICK","isUndefined","reference","current","getReference","scrollTop","offsetTop","cancel","pick","setState","onHide","name","onShow","Component","Table","head","row","length","sort","field","isString","getSortLink","isObject","query","route","order","checked","slice","id","i","index","indexOf","even","odd","infinite","action","join","checkEnd","unscroll","onScroll","direct","updates","allowance","getScroll","height","position","onReachEnd","icon","url","to","types","image","source","width","media","zoom","Loader","ratio","img","wider","src","alt","style","loadImage","full_path","test","document","createElement","useImage","onload","getBoundingClientRect","typeArgs","Media","type","split","default","Type","sliderInitialData","count","items","sliderPositions","Slider","next","prev","slider","swiper","hasChildren","isLoading","Icon","Swiper","freeMode","navigation","nextEl","prevEl","noSwipingClass","slideActiveClass","slideClass","slidesPerView","spaceBetween","wrapperClass","on","onMiddle","onReachBeginning","update","isBeginning","isEnd","destroy","sortFields","aircraft_make","year","sortKeys","Aircraft","hangarCancelClick","reload","selectedAircraft","editAircraft","showHideHanger","products","toRemove","device","aircraft","smDown","includes","Hangar","withoutAircraft","isHanger","loggedOut","onCancel","Checkbox","size","onChange","call","Confirm","message","ok","onConfirm","bulkRemove","color","cursor","colSpan","_id","aircraft_model","open","productId","onToggle","selectProduct","toggleProducts","putNewTag","remove","loadProducts","certificate","permalink","start","limit","Math","min","lastestNewProductDate","moment","subtract","format","filter","both","newProductDate","Date","getTime","created_at","updateProducts","when","getProducts","then","results","keyBy","catch","dispatch","getAircraftHangar","deleteAircraftHangar","once","AIRCRAFT_HANGAR_DELETE","toRemoveIds","splice","push","extend","connect","api","product","app","router","hangar","routeQuery"],"mappings":"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","file":"static/js/16.d71b9b99.chunk.js","sourcesContent":["import isFunction from 'lodash/isFunction';\nimport isUndefined from 'lodash/isUndefined';\nimport keys from 'lodash/keys';\nimport pick from 'lodash/pick';\nimport React, { Component } from 'react';\nimport clsx from 'clsx';\n\nimport { bind, freeze } from '../../utils';\nimport { watch } from '../../store';\nimport { APP_CLICK } from '../app/actions';\nimport './Selector.scss';\nimport Icon from '../utils/Icon';\nimport Loader from '../utils/loader/Loader';\n\n/**\n * Selector component\n */\nexport default class Selector extends Component {\n\n  constructor(...args) {\n    super(...args);\n    bind(this, [\n      'hide',\n      'onSelect',\n      'show',\n      'toggle'\n    ]);\n    this.overlay = React.createRef();\n    this.selected = React.createRef();\n    this.state = {\n      active: false\n    };\n  }\n\n  render() {\n    const { busy, children, className, data = {}, disabled, item, selected, title } = this.props,\n          { active } = this.state,\n          { hide, show, toggle } = this;\n    return (\n      <span className={clsx('Selector', className, { active, disabled })} onClick={freeze(show)}>\n        {(isFunction(children) ?\n          children({ hide, show, toggle }) :\n          <Icon value=\"fas-caret-down\" />\n        )}\n        <div className=\"selector-overlay\" ref={this.overlay}>\n          {(busy ?\n            <Loader /> :\n            <ul>\n              {keys(data).map((key) => {\n                const isActive = (key === selected),\n                      caption = isFunction(item) ? item(data[key], key) : data[key];\n                return (\n                  <li\n                    key={key}\n                    className={clsx({ active: isActive })}\n                    title={isFunction(title) ? title(data[key]) : caption}\n                    {...(isActive ? { ref: this.selected } : {})}\n                    onClick={freeze(this.onSelect, key)}>\n                    {caption}\n                  </li>\n                );\n              })}\n            </ul>\n          )}\n        </div>\n      </span>\n    )\n  }\n\n  componentDidMount() {\n    this.click = watch([APP_CLICK], this.hide);\n    if (!isUndefined(this.props.reference)) {\n      this.props.reference.current = this.getReference();\n    }\n  }\n\n  componentDidUpdate(props, state) {\n    if (this.props.reference !== props.reference) {\n      this.props.reference.current = this.getReference();\n    }\n    if (this.state.active) {\n      if (this.props.selected && this.selected.current) {\n        this.overlay.current.scrollTop = this.selected.current.offsetTop - 10;\n      } else if (this.state.active !== state.active) {\n        this.overlay.current.scrollTop = 0;\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    this.click.cancel();\n    if (!isUndefined(this.props.reference)) {\n      this.props.reference.current = null;\n    }\n  }\n\n  /**\n   * Get selector reference\n   */\n  getReference() {\n    return pick(this, [\n      'hide',\n      'show'\n    ]);\n  }\n\n  /**\n   * Hide\n   */\n  hide() {\n    this.setState({\n      active: false\n    });\n    if (isFunction(this.props.onHide)) {\n      this.props.onHide();\n    }\n  }\n\n  /**\n   * Select an item\n   */\n  onSelect(name) {\n    if (isFunction(this.props.onSelect)) {\n      this.props.onSelect(this.props.data[name], name);\n    }\n    this.hide();\n  }\n\n  /**\n   * Show overlay\n   */\n  show() {\n    if (this.props.disabled) {\n      return;\n    }\n    this.setState({\n      active: true\n    });\n    if (isFunction(this.props.onShow)) {\n      this.props.onShow();\n    }\n  }\n\n  /**\n   * Toggle\n   */\n  toggle() {\n    return this[this.state.active ? 'hide' : 'show']();\n  }\n}\n","import isFunction from 'lodash/isFunction';\nimport isObject from 'lodash/isObject';\nimport isString from 'lodash/isString';\nimport keys from 'lodash/keys';\nimport React, { Component, Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport clsx from 'clsx';\n\nimport { join, watch } from '../../store';\nimport { freeze, getScroll, onScroll, sort } from '../../utils';\nimport './Table.scss';\nimport Icon from '../utils/Icon';\nimport Loader from '../utils/loader/Loader';\nimport Selector from '../selector/Selector';\n\n/**\n * Table component\n */\nexport default class Table extends Component {\n\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      keys: [],\n      selected: []\n    };\n  }\n\n  render() {\n    const { busy, children, data } = this.props,\n          { selected } = this.state,\n          { head, row } = children();\n    return (\n      <div className={clsx('Table', { busy })}>\n        {(!busy ? '' :\n          <Loader />\n        )}\n        <table>\n          <thead>\n            {head && head({\n              selected: (selected.length && (selected.length === this.state.keys.length)),\n              sort: (field, title) => {\n                if (isString(field)) {\n                  return this.getSortLink(field, title);\n                } else if (isObject(field)) {\n                  const { query } = this.props.route;\n                  return (\n                    <Selector\n                      className=\"sort-selector\"\n                      data={field}\n                      item={(caption, key) => this.getSortLink(key, caption)}\n                      title={(caption) => caption}>\n                      {({ toggle }) => (\n                        <span onClick={freeze(toggle)}>\n                          <span>{field[query.sort] || title || 'Sort by'}</span>\n                          <Icon value={'fa-chevron-' + ((query.order === 'desc') ? 'up' : 'down')} />\n                        </span>\n                      )}\n                    </Selector>\n                  );\n                }\n              },\n              state: this.state,\n              toggle: (checked) => {\n                this.setState((state) => ({\n                  ...state,\n                  selected: checked ? state.keys.slice(0) : []\n                }));\n              }\n            })}\n          </thead>\n          <tbody>\n            {this.state.keys.map((id, i) => {\n              const index = selected.indexOf(id),\n                    even = (i % 2);\n              if (!data[id]) {\n                return (\n                  <Fragment key={id}></Fragment>\n                );\n              }\n              return (\n                <Fragment key={id}>\n                  {row(data[id], {\n                    even,\n                    index: i,\n                    odd: !even,\n                    selected: index >= 0,\n                    toggle: (checked) => {\n                      if (checked && index < 0) {\n                        this.setState({\n                          selected: [\n                            ...selected,\n                            id\n                          ]\n                        });\n                      } else if (!checked && index >= 0) {\n                        this.setState({\n                          selected: [\n                            ...selected.slice(0, index),\n                            ...selected.slice(index + 1)\n                          ]\n                        });\n                      }\n                    }\n                  })}\n                </Fragment>\n              );\n            })}\n          </tbody>\n        </table>\n      </div>\n    )\n  }\n\n  componentDidMount() {\n    if (this.props.infinite) {\n      const { action } = this.props.infinite;\n      this.action = watch([join(action, 'COMPLETE')], () => {\n        this.checkEnd();\n      });\n      this.unscroll = onScroll(() => {\n        if (!this.props.busy) {\n          this.checkEnd();\n        }\n      });\n    }\n  }\n\n  componentDidUpdate(props) {\n    if (this.props.data !== props.data || (this.props.direct && !this.state.keys.length)) {\n      const updates = {\n        keys: keys(this.props.data)\n      };\n      this.setState(updates);\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.action) {\n      this.action.cancel();\n      this.unscroll();\n    }\n  }\n\n  /**\n   * Check if reached end\n   */\n  checkEnd(allowance = 50) {\n    const { height, position } = getScroll();\n    if (position > (height - allowance)) {\n      if (this.props.infinite && isFunction(this.props.infinite.onReachEnd)) {\n        this.props.infinite.onReachEnd();\n      }\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  /**\n   * Get sort link\n   */\n  getSortLink(field, title) {\n    const { active, icon, url } = sort(this.props.route, field);\n    return (\n      <Link to={url} className={clsx('sort', { active })}>\n        <span>{title}</span>\n        <Icon value={'fas-' + icon} />\n      </Link>\n    );\n  }\n}\n","import pick from 'lodash/pick';\nimport React from 'react';\n\nimport Image from './Image';\n\n/**\n * Media types\n */\nexport const types = {\n  image: Image\n};\n\n/**\n * Type args\n */\nexport const typeArgs = {\n  image: [\n    'caption',\n    'zoom'\n  ]\n};\n\n/**\n * Media component\n */\nexport default function Media(props) {\n  const { media } = props,\n        type = media ? media.type.split('/')[0] : (props.default || 'image'),\n        Type = types[type],\n        args = pick(props, typeArgs[type]);\n  return (\n    <Type media={media} {...args} />\n  );\n}\n","import React, { Component, createRef } from 'react';\nimport clsx from 'clsx';\n\nimport api from '../../api';\nimport './Image.scss';\nimport Loader from '../utils/loader/Loader';\n\n/**\n * Image component\n */\nexport default class Image extends Component {\n\n  constructor(...args) {\n    super(...args);\n    this.image = createRef();\n    this.state = {\n      busy: true,\n      height: 0,\n      source: '',\n      width: 0\n    };\n  }\n\n  render() {\n    const { caption, media, zoom } = this.props,\n          { busy, source } = this.state;\n    return (\n      <div className={clsx('Image', { zoom })} ref={this.image}>\n        {(busy ?\n          <Loader /> :\n          <>\n            {(() => {\n              const ratio = this.img.width / this.img.height,\n                    wider = (this.state.width / this.state.height) > ratio,\n                    width = (wider ? (this.state.height * ratio) : this.state.width) + 'px',\n                    height = (wider ? this.state.height : (this.state.width / ratio)) + 'px';\n              return (\n                <img src={source} alt={media.title} style={{ width, height }} />\n              );\n            })()}\n          </>\n        )}\n        {(!caption ? <></> :\n          <div className=\"caption\">{caption}</div>\n        )}\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    if (this.props.media) {\n      this.loadImage();\n    }\n  }\n\n  componentDidUpdate(props) {\n    if (this.props.media && this.props.media !== props.media) {\n      this.loadImage();\n    }\n  }\n\n  /**\n   * Load image\n   */\n  loadImage() {\n    const { media } = this.props;\n    let source = media.full_path;\n    if (!/(https\\:\\/\\/)|(http\\:\\/\\/)/g.test(source)) {\n      source = 'https://d2kijztdgb1j07.cloudfront.net/' + source;\n    }\n\n    this.img = document.createElement('img');\n    this.img.src = source;\n    this.setState({\n      busy: true,\n      source\n    });\n    if (!this.useImage()) {\n      this.img.onload = () => {\n        this.useImage();\n      };\n    }\n  }\n\n  /**\n   * Use image\n   */\n  useImage() {\n    if (!this.img.width && !this.img.height) {\n      return false;\n    }\n    if (!this.image.current) {\n      return false;\n    }\n    const { height, width } = this.image.current.getBoundingClientRect();\n    this.setState({\n      busy: false,\n      height,\n      width\n    });\n    return true;\n  }\n}\n","import isFunction from 'lodash/isFunction';\nimport keys from 'lodash/keys';\nimport React, { Component, createRef } from 'react';\nimport Swiper from 'swiper';\nimport clsx from 'clsx';\n\nimport { bind } from '../../utils';\nimport './Slider.scss';\nimport Icon from '../utils/Icon';\nimport Loader from '../utils/loader/Loader';\n\nexport const itemsPerQuery = 5;\nexport const sliderInitialData = {\n  active: true,\n  busy: false,\n  count: itemsPerQuery,\n  items: {},\n  length: 0\n};\nexport const sliderPositions = [\n  'beginning',\n  'middle',\n  'end'\n];\n\n/**\n * Slider component\n */\nexport default class Slider extends Component {\n\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      position: -1\n    };\n    bind(this, [\n      'onMiddle',\n      'onReachBeginning',\n      'onReachEnd'\n    ]);\n    this.next = createRef();\n    this.prev = createRef();\n    this.slider = createRef();\n    this.swiper = null;\n  }\n\n  render() {\n    const { children, className, disabled } = this.props,\n          { busy, items } = this.props.data,\n          { position } = this.state,\n          hasChildren = isFunction(children);\n    return (\n      <div className={clsx('Slider', className, { busy, disabled }, 'position-' + sliderPositions[position + 1])} ref={this.slider}>\n        <div className=\"slider-wrapper\">\n          {keys(items).map((key, i) => (\n            <div className=\"slider-item\" key={key}>\n              {hasChildren ? children(items[key], i) : <></>}\n            </div>\n          ))}\n          {(!this.isLoading() ? <></> :\n            <div className=\"slider-item busy\">\n              <Loader />\n            </div>\n          )}\n        </div>\n        <div className=\"slider-prev\" ref={this.prev}>\n          <Icon value=\"fal-chevron-left\" />\n        </div>\n        <div className=\"slider-next\" ref={this.next}>\n          <Icon value=\"fal-chevron-right\" />\n        </div>\n      </div>\n    );\n  }\n\n  /**\n   * Is loading\n   */\n  isLoading() {\n    return (this.props.busy || this.props.data.busy) &&\n      (this.props.data.length < this.props.data.count);\n  }\n\n  componentDidMount() {\n    this.swiper = new Swiper(this.slider.current, {\n      freeMode: true,\n      navigation: {\n        nextEl: this.next.current,\n        prevEl: this.prev.current\n      },\n      noSwipingClass: 'disabled',\n      slideActiveClass: 'slider-item-active',\n      slideClass: 'slider-item',\n      slidesPerView: 'auto',\n      spaceBetween: 10,\n      wrapperClass: 'slider-wrapper'\n    });\n    this.swiper.on('fromEdge', this.onMiddle);\n    this.swiper.on('reachBeginning', this.onReachBeginning);\n    this.swiper.on('reachEnd', this.onReachEnd);\n  }\n\n  componentDidUpdate(props) {\n    if (this.props.data && this.props.data !== props.data) {\n      this.swiper.update();\n      if (this.swiper.isBeginning) {\n        this.onReachBeginning();\n      }\n      if (this.swiper.isEnd) {\n        this.onReachEnd();\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    this.swiper.destroy();\n  }\n\n  /**\n   * On middle\n   */\n  onMiddle() {\n    this.setState({\n      position: 0\n    });\n    if (isFunction(this.props.onMiddle)) {\n      this.props.onMiddle();\n    }\n  }\n\n  /**\n   * On reach beginning\n   */\n  onReachBeginning() {\n    this.setState({\n      position: -1\n    });\n    if (isFunction(this.props.onReachBeginning)) {\n      this.props.onReachBeginning();\n    }\n  }\n\n  /**\n   * On reach end\n   */\n  onReachEnd() {\n    this.setState({\n      position: 1\n    });\n    if (isFunction(this.props.onReachEnd)) {\n      this.props.onReachEnd();\n    }\n  }\n}\n","import includes from 'lodash/includes';\nimport isUndefined from 'lodash/isUndefined';\nimport keyBy from 'lodash/keyBy';\nimport keys from 'lodash/keys';\nimport pick from 'lodash/pick';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport clsx from 'clsx';\nimport moment from 'moment'\n\nimport { bind, call } from '../../utils';\nimport { join, once, when } from '../../store';\nimport {\n  AIRCRAFT_HANGAR_DELETE,\n  getAircraftHangar,\n  deleteAircraftHangar\n} from '../../api/aircraft/actions';\nimport { getProducts } from '../../api/product/actions';\nimport { routeQuery } from '../../routes';\nimport './Aircraft.scss';\nimport Checkbox from '../inputs/checkbox/Checkbox';\nimport Confirm from '../popups/Confirm';\nimport Icon from '../utils/Icon';\nimport Media from '../media/Media';\nimport Slider, { itemsPerQuery, sliderInitialData } from '../slider/Slider';\nimport Table from '../table/Table';\nimport Hangar from \"../popups/Hangar\";\nimport { aircraft } from '../../api';\n\n/**\n * Sort fields\n */\nexport const sortFields = {\n  aircraft_make: 'Make',\n  name: 'Model',\n  year: 'Year'\n};\n\n/**\n * Sort keys\n */\nexport const sortKeys = keys(sortFields);\n\n/**\n * Aircraft hangar\n */\nclass Aircraft extends Component {\n  showHideHanger;\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      products: {},\n      toRemove: [],\n      selectedAircraft: null\n    };\n    bind(this, [\n      'loadProducts',\n      'onHideSettings',\n      'reload',\n      'remove',\n      'toggleProducts',\n      'selectProduct',\n      'bulkRemove'\n    ]);\n  }\n\n  render() {\n    const { busy, device, route } = this.props,\n      { count } = this.props.aircraft,\n      smDown = includes(['xs', 'sm'], device);\n    const { toRemove } = this.state;\n    return (\n      <div className=\"Aircraft\">\n        <div className=\"description\">\n          Below contains aircrafts you have saved. You can configure tracking settings for each one of them and receive updates on related FAA-Approved products in the categories you&apos;re interested in.\n        </div>\n\n        <div className=\"description\">\n          <Hangar aircraft={this.state.selectedAircraft} withoutAircraft isHanger loggedOut={false} onCancel={this.hangarCancelClick}>\n            {({ show }) => {\n              this.showHideHanger = show;\n              return (\n                <span className={clsx('add-to-hangar', { disabled: !this.state.selectedAircraft })} onClick={show}>\n                  + Add aircraft to hangar\n                </span>\n              );\n            }}\n          </Hangar>\n        </div>\n\n        <Table {...this.props.aircraft} route={route}>\n          {() => ({\n            head: ({ selected, sort, toggle }) => (\n              <>\n                <tr>\n                  <th>\n                    <Checkbox icon=\"fa-minus\" value={selected} size=\"sm\" onChange={call(toggle, !selected)}>\n                      {selected ? 'Deselect' : 'Select'} All ({count})\n                    </Checkbox>\n                  </th>\n                  <th></th>\n                  {(smDown ? <></> :\n                    <>\n                      <th>\n                        <Confirm\n                          message=\"Are you sure you want to remove selected aircrafts from your hangar?\"\n                          ok={{ title: 'Remove Aircrafts' }}\n                          onConfirm={call(this.bulkRemove)}>\n                          {({ show }) => (\n                            <a onClick={show} style={{ color: '#cf2f37', cursor: 'pointer' }}>Remove selected({ toRemove.length})</a>\n                          )}\n                        </Confirm>\n                      </th>\n                      <th></th>\n                      <th></th>\n                      <th></th>\n                      <th></th>\n                    </>\n                  )}\n                  <th>\n                    {(smDown ? sort(sortFields) : <></>)}\n                  </th>\n                </tr>\n                {(smDown ? <></> :\n                  <tr>\n                    <th></th>\n                    {sortKeys.map((key) => (\n                      <th key={key}>{sort(key, sortFields[key])}</th>\n                    ))}\n                    <th colSpan={4}></th>\n                  </tr>\n                )}\n              </>\n            ),\n            row: (aircraft, { index, odd, selected, toggle }) => {\n              const { _id, aircraft_model, year } = aircraft,\n                { aircraft_make, name } = aircraft_model,\n                updates = pick(aircraft, [\n                  'categories',\n                  'frequency',\n                  'products'\n                ]),\n                products = this.state.products[_id],\n                open = products && products.active;\n              return (\n                <>\n                  <tr className={clsx({ odd, open, selected })}>\n                    <td>\n                      <Checkbox value={selected} size=\"sm\" productId={_id} onChange={call(toggle, !selected)} onToggle={this.selectProduct} />\n                    </td>\n                    {(!smDown ?\n                      <>\n                        <td>{aircraft_make.name}</td>\n                        <td>{name}</td>\n                        <td>{year || '-'}</td>\n                        <td className=\"products\">\n                          <span\n                            className={clsx('action', { 'with-badge': (index <= 1) })}\n                            onClick={call(this.toggleProducts, aircraft)}>\n                            {(this.putNewTag(aircraft) ?\n                              <span className=\"badge\">New</span> :\n                              null\n                            )}\n                            <span>{open ? 'Hide' : 'Show'} related product(s)</span>\n                          </span>\n                        </td>\n                        <td className=\"setting\">\n                          {/*<Settings {...updates} _id={_id} onHide={this.onHideSettings}>*/}\n                          {/*{({ show }) => (*/}\n                          {/*<span className=\"action\" onClick={show}>*/}\n                          {/*<span>Email Update Setting</span>*/}\n                          {/*<Icon value=\"fa-ellipsis-v\" />*/}\n                          {/*</span>*/}\n                          {/*)}*/}\n                          {/*</Settings>*/}\n                        </td>\n                      </> :\n                      <td>\n                        {aircraft_make.name} - {name}<br />\n                        Year: {year || '-'}\n                      </td>\n                    )}\n                    <td className=\"delete\">\n                      <span className={clsx('add-to-hangar')} onClick={this.editAircraft(aircraft)}>\n                        <Icon className=\"fa-edit\"/>\n                      </span>\n                    </td>\n                    <td className=\"delete\">\n                      <Confirm\n                        message=\"Are you sure you want to remove this aircraft from your hangar?\"\n                        ok={{ title: 'Remove Aircraft' }}\n                        onConfirm={call(this.remove, _id)}>\n                        {({ show }) => (\n                          <Icon value=\"fa-trash\" onClick={show} />\n                        )}\n                      </Confirm>\n                    </td>\n                  </tr>\n                  {(!open ? <></> :\n                    <tr className=\"related\">\n                      <td colSpan={7}>\n                        <Slider\n                          busy={busy}\n                          disabled={products.busy}\n                          className=\"products\"\n                          data={products}\n                          onReachEnd={call(this.loadProducts, aircraft)}>\n                          {({ certificate, media, name, permalink }) => (\n                            <>\n                              <Link to={'/products/' + permalink}>\n                                <Media media={(media || [])[0]} />\n                                <h5>{name}</h5>\n                                {(!certificate ? <></> :\n                                  <h6>({certificate.reference})</h6>\n                                )}\n                              </Link>\n                            </>\n                          )}\n                        </Slider>\n                      </td>\n                    </tr>\n                  )}\n                </>\n              );\n            }\n          })}\n        </Table>\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    this.reload();\n  }\n\n  /**\n   * Hangar cancel/back to hanger click\n   */\n  hangarCancelClick = (reload) => {\n    this.setState({ selectedAircraft: null }, () => {\n      if (reload) this.reload();\n    });\n  }\n\n  /**\n   * Load products\n   */\n  loadProducts(aircraft) {\n    if (this.props.busy) {\n      return;\n    }\n    const products = this.state.products[aircraft._id] || sliderInitialData;\n    const start = products.length,\n      limit = Math.min(products.count - start, itemsPerQuery);\n    if (limit <= 0) {\n      return;\n    }\n\n    let lastestNewProductDate = moment().subtract(1, 'months').format('YYYY-MM-DD');\n\n    const filter = {\n      aircraft_model: aircraft.aircraft_model._id,\n      both: 1,\n      limit,\n      start,\n      // created_at: lastestNewProductDate,\n    };\n\n    if (aircraft.newProductDate && new Date(lastestNewProductDate).getTime() <= new Date(moment(new Date(aircraft.newProductDate)).format('YYYY-MM-DD'))) {\n      filter.created_at = lastestNewProductDate;\n    }\n\n    this.updateProducts(aircraft, {\n      busy: true\n    }, products);\n    when(getProducts(filter)).then(({ count, results }) => {\n\n      this.updateProducts(aircraft, {\n        busy: false,\n        count,\n        items: {\n          ...products.items,\n          ...keyBy(results, '_id')\n        },\n        length: products.length + results.length\n      });\n    }).catch(() => {\n      this.updateProducts(aircraft, {\n        busy: false\n      });\n    });\n  }\n\n  /**\n   * On hide settings\n   */\n  onHideSettings({ _id, reload }) {\n    if (_id && (reload === true)) {\n      this.reload();\n    }\n  }\n\n  putNewTag(aircraft) {\n    const lastestNewProductDate = moment().subtract(1, 'month').format('YYYY-MM-DD');\n    return aircraft.newProductDate && new Date(lastestNewProductDate).getTime() <= new Date(moment(new Date(aircraft.newProductDate)).format('YYYY-MM-DD'));\n  }\n\n  /**\n   * Reload\n   */\n  reload() {\n    this.props.dispatch(getAircraftHangar());\n  }\n\n  /**\n   * Remove an aircraft\n   */\n  remove(id) {\n    this.props.dispatch(deleteAircraftHangar(id));\n    return once(join(AIRCRAFT_HANGAR_DELETE, 'COMPLETE')).then(() => {\n      this.reload();\n    });\n  }\n\n  bulkRemove() {\n    let toRemoveIds = this.state.toRemove;\n    for (var i = 0; i < toRemoveIds.length; i++) {\n      this.remove(toRemoveIds[i]);\n    }\n    this.setState({\n      toRemove: []\n    })\n  }\n\n  editAircraft = (selectedAircraft) => () => {\n    this.setState({ selectedAircraft }, () => {\n      if (typeof this.showHideHanger === 'function') {\n        this.showHideHanger();\n      }\n    });\n  }\n\n  selectProduct(id) {\n    let toRemove = this.state.toRemove;\n    if (toRemove.includes(i)) {\n      for (var i = 0; i < toRemove.length; i++) { if (toRemove[i] === id) { toRemove.splice(i, 1); break; } }\n    } else {\n      toRemove.push(id);\n    }\n\n    this.setState({\n      toRemove\n    })\n\n  }\n\n  /**\n   * Toggle related products\n   */\n  toggleProducts(aircraft) {\n    if (isUndefined(this.state.products[aircraft._id])) {\n      this.loadProducts(aircraft);\n    } else {\n      this.updateProducts(aircraft, {\n        active: !this.state.products[aircraft._id].active\n      });\n    }\n  }\n\n  /**\n   * Update products\n   */\n  updateProducts(aircraft, extend, products) {\n    this.setState((state) => ({\n      products: {\n        ...state.products,\n        [aircraft._id]: {\n          ...(products || state.products[aircraft._id]),\n          ...extend\n        }\n      }\n    }));\n  }\n}\n\nexport default connect(({ api: { aircraft, product }, app, router }) => {\n  return {\n    aircraft: aircraft.hangar,\n    busy: product.products.busy,\n    device: app.device,\n    route: routeQuery(router)\n  };\n})(Aircraft);\n"],"sourceRoot":""}