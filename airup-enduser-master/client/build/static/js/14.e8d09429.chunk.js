(this["webpackJsonpaircraft-upgrade-www"]=this["webpackJsonpaircraft-upgrade-www"]||[]).push([[14],{345:function(e,t){e.exports=function(e){for(var t=-1,a=null==e?0:e.length,r={};++t<a;){var n=e[t];r[n[0]]=n[1]}return r}},352:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var r=a(1),n=a.n(r),c=a(44);a(359);function o(e){var t=e.children,a=e.className,r=e.count,o=void 0===r?12:r;return n.a.createElement("div",{className:Object(c.a)("Column",a,"col-"+o)},t)}},353:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var r=a(1),n=a.n(r),c=a(44);a(360);function o(e){var t=e.children,a=e.className;return n.a.createElement("div",{className:Object(c.a)("Row",a)},t)}},356:function(e,t,a){"use strict";var r=a(10),n=a(11),c=a(33),o=a(32),i=a(1),s=a.n(i),l=(a(357),function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(n.a)(a,[{key:"render",value:function(){return s.a.createElement("a",{href:this.props.link||"".concat(window.location.origin,"/advertisement"),target:"_blank",className:"Advertisement"},s.a.createElement("img",{src:this.props.url,alt:""}))}}]),a}(i.Component));t.a=l},357:function(e,t,a){},359:function(e,t,a){},360:function(e,t,a){},364:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a(71);function n(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=Object(r.a)(e))){var t=0,a=function(){};return{s:a,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,c,o=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){i=!0,c=e},f:function(){try{o||null==n.return||n.return()}finally{if(i)throw c}}}}},366:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var r=a(1),n=a.n(r),c=a(44);a(367);function o(e){var t=e.children,a=e.className;return n.a.createElement("div",{className:Object(c.a)("Container",a)},t)}},367:function(e,t,a){},375:function(e,t,a){var r=a(96),n=a(167),c=a(168);e.exports=function(e,t){var a={};return t=c(t,3),n(e,(function(e,n,c){r(a,n,t(e,n,c))})),a}},376:function(e,t,a){},378:function(e,t,a){e.exports=a.p+"static/media/home_page_ad_1.89a8927f.png"},379:function(e,t,a){e.exports=a.p+"static/media/home_page_ad_2.dd66f51e.png"},429:function(e,t,a){"use strict";a.r(t),a.d(t,"videoRatio",(function(){return B}));var r=a(0),n=a(10),c=a(11),o=a(45),i=a(33),s=a(32),l=a(345),u=a.n(l),d=a(53),m=a.n(d),p=a(20),h=a.n(p),f=a(375),v=a.n(f),y=a(94),b=a.n(y),g=a(1),O=a.n(g),k=a(27),j=a(38),S=a(44),E=a(12),w=a(46),N=a(36),A=a(13),C=a(43),x=a(7),M=(a(376),a(356)),_=a(69),P=a(364),F=a(37),D=a.n(F),I=a(331),T=a(358),z=["STC","TSO","PMA","TCCA","EASA","No-STC","NORSEE","Minor Alteration"],H=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={selected:!1,selectedCode:null},Object(E.a)(Object(o.a)(e),["toggleSelect"]),e}return Object(c.a)(a,[{key:"render",value:function(){var e,t=this.props,a=(t.label,t.sectionClass),r=this.state,n=r.selected,c=r.selectedCode,o=[],i=Object(P.a)(z.entries());try{for(i.s();!(e=i.n()).done;){var s=Object(_.a)(e.value,2),l=s[0],u=s[1];o.push(O.a.createElement(I.a,{key:l,name:u,className:"certificateCheckbox",icon:"fa-minus",value:n&&c==u,size:"md",onChange:this.toggleSelect},u))}}catch(d){i.e(d)}finally{i.f()}return O.a.createElement("div",{className:Object(S.a)(a,"home-categories-filters")},o)}},{key:"toggleSelect",value:function(e){var t=this.state.selectedCode,a=e.target.name,r=!this.state.selected;a!=t&&(r=!0),this.setState({selected:r,selectedCode:a}),D()(this.props.onSelectCertificate)&&(r||(a=""),this.props.onSelectCertificate(a))}}]),a}(g.Component),R=a(326),J=a(352),Y=a(366),Q=a(92),G=a(353),L=a(368),U=a(378),V=a.n(U),W=a(379),q=a.n(W),B=1.773809523809524,K=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var c=arguments.length,i=new Array(c),s=0;s<c;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).getAircraft=function(){var t=e.state,a=t.model,n=t.year,c=e.props.aircraft.models.data||{};return Object(r.a)({aircraft_model:Object(r.a)({_id:a},c[a])},n?{year:n}:{})},e.dropdowns={},e.home=Object(g.createRef)(),e.video=Object(g.createRef)(),e.state={makes:{},make:null,models:{},model:null,categories:{},category:null,ready:!1,years:{},year:null,extra_filters:!1,certificate:null,manufacturer:null,manufacturers:null},Object(E.a)(Object(o.a)(e),["initDropdown","onOpenDropdown","onSelectMake","onSelectModel","onSelectYear","toggleExtraFilters","onSelectCertificate","onSelectCategory","onSelectManufacturer","getSearchPayload","addAircraftToHangar"]),e}return Object(c.a)(a,[{key:"render",value:function(){var e=this.state,t=e.makes,a=e.make,r=e.models,n=e.model,c=e.categories,o=e.category,i=e.ready,s=e.years,l=e.year,u=e.extra_filters,d=e.manufacturer,m=e.manufacturers,p=this.props.auth.data,h=this.props.product,f=h.countAll,v=h.countAircraftMakes,y=h.countAircraftModels,b=h.countApprovedAircraftMakes,g=h.countApprovedAircraftModels;return O.a.createElement("div",{className:Object(S.a)("Home",{ready:i}),ref:this.home},O.a.createElement("div",{className:"intro"},O.a.createElement("h1",null,"Select your aircraft"),O.a.createElement("p",null,"Identify all existing and stay up to date on all FAA-Approved Parts for your aircraft model.")),O.a.createElement("div",{className:Object(S.a)("main",{wide:!!a,pull:!!a})},O.a.createElement("div",{className:"inputs clearfix"},O.a.createElement("div",{className:"input"},O.a.createElement(T.a,{busy:this.props.aircraft.makes.busy,className:"dropdown-make",empty:"No makes available...",id:"dropdown-make",items:t,onChange:this.onSelectMake,onInit:Object(E.b)(this.initDropdown),onOpen:Object(E.b)(this.onOpenDropdown),placeholder:"Select a manufacturer",position:"left",value:a})),O.a.createElement("div",{className:"input"},O.a.createElement(T.a,{busy:this.props.aircraft.models.busy,className:"dropdown-model",empty:"No models available...",id:"dropdown-model",items:r,onChange:this.onSelectModel,onInit:Object(E.b)(this.initDropdown),onOpen:Object(E.b)(this.onOpenDropdown),placeholder:"Model",value:n})),O.a.createElement("div",{className:"input"},O.a.createElement(T.a,{className:"dropdown-year",empty:"No years available...",id:"dropdown-year",items:s,onChange:this.onSelectYear,onInit:Object(E.b)(this.initDropdown),onOpen:Object(E.b)(this.onOpenDropdown),placeholder:"Year",position:"right",value:l}))),O.a.createElement("div",{className:"d-flex justify-content-between"},O.a.createElement("p",{className:Object(S.a)("text-center",{none:!a}),id:"moreFilterText"},O.a.createElement("a",{href:"#",onClick:this.toggleExtraFilters},"More Filters",O.a.createElement("i",{className:Object(S.a)("Icon","fas",u?"fas-caret-up":"fas-caret-down","arrow")}))),O.a.createElement(H,{sectionClass:Object(S.a)({none:!u}),onSelectCertificate:this.onSelectCertificate,label:"STC"})),O.a.createElement("div",{className:Object(S.a)("clearfix",{none:!u}),id:"categoriesFilterSection"},O.a.createElement("div",{className:"category-home-input"},O.a.createElement(T.a,{className:"dropdown-model2",empty:"No categories available...",id:"dropdown-category",items:c,onChange:this.onSelectCategory,placeholder:"All categories",value:o})),O.a.createElement("div",{className:"manufacturer-home-input"},O.a.createElement(T.a,{className:"dropdown-model2",empty:"No manufacturer available...",id:"dropdown-manufacturer",items:m,onChange:this.onSelectManufacturer,placeholder:"All manufacturers",value:d}))),O.a.createElement("div",{className:Object(S.a)("buttons",{none:!a},"clearfix")},O.a.createElement(R.a,{className:"home-btn",variant:"red",to:"/search"+this.getSearchQuery(!0)},b.busy||g.busy?O.a.createElement(Q.a,null):"See FAA-Approved Parts (".concat((n?g:b).count,")")),O.a.createElement(R.a,{className:"home-btn",variant:"red",to:"/search"+this.getSearchQuery()},v.busy||y.busy?O.a.createElement(Q.a,null):"See All Parts (".concat((n?y:v).count,")"))),O.a.createElement("div",{className:"links clearfix"},O.a.createElement("span",{className:"left"},O.a.createElement("span",null,"Or, you can also"),O.a.createElement(j.a,{className:Object(S.a)("count",{busy:f.busy}),to:"/search"},f.busy?O.a.createElement(Q.a,null):"view all products (".concat(f.count,")"))),this.state.model&&O.a.createElement(L.a,{aircraft:this.getAircraft(),loggedOut:!p||!p._id},(function(e){var t=e.show;return O.a.createElement("span",{className:Object(S.a)("right",{none:!a})},O.a.createElement("a",{href:"#",onClick:t},"+ Add aircraft to hangar"))})))),O.a.createElement("div",{className:"featured"},O.a.createElement("h5",null,"Featured New FAA-Approved Products"),O.a.createElement(Y.a,null,O.a.createElement(G.a,null,O.a.createElement(J.a,{count:6},O.a.createElement(M.a,{url:V.a,link:"https://www.aircraftspruce.com/menus/st/manu_gar.html"})),O.a.createElement(J.a,{count:6},O.a.createElement(M.a,{url:q.a}))))),O.a.createElement("video",{autoPlay:!0,controls:!1,loop:!0,preload:"true",ref:this.video},O.a.createElement("source",{src:"/assets/videos/home-preview.mp4",type:"video/mp4"})))}},{key:"componentDidMount",value:function(){this.initVideo(),this.props.dispatch(Object(x.H)()),this.props.dispatch(Object(x.A)({limit:1e3,sort:"name",order:"asc"})),this.props.dispatch(Object(C.f)({limit:1e3})),this.props.dispatch(Object(A.u)({limit:1e3}))}},{key:"componentDidUpdate",value:function(e){var t=this.props.aircraft.makes.data,a=this.props.categories.categories.data,r=this.props.manufacturer.manufacturers.data,n=this.props.aircraft.models.data;(e.aircraft.makes.data!==t||!m()(t)&&m()(this.state.makes))&&this.setState({makes:v()(t,"name")}),(e.aircraft.models.data!==n||!m()(n)&&m()(this.state.models))&&this.setState({models:v()(n,"name")}),(e.categories.categories.data!==a||!m()(a)&&m()(this.state.categories))&&this.setState({categories:v()(a,"name")}),(e.manufacturer.manufacturers.data!==r||!m()(r)&&m()(this.state.manufacturers))&&this.setState({manufacturers:v()(r,"name")})}},{key:"componentWillUnmount",value:function(){this.unresize()}},{key:"getSearchQuery",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t={};if(this.state.model){if(this.props.aircraft.models.busy)return t;t.aircraft_model=this.props.aircraft.models.data[this.state.model].permalink,this.state.year&&(t.year=this.state.year)}else{if(!this.state.make)return t;if(this.props.aircraft.makes.busy)return t;t.aircraft_make=this.props.aircraft.makes.data[this.state.make].permalink}return t.approved=e,Object(E.m)(t)}},{key:"initDropdown",value:function(e){this.dropdowns[e.id]=e}},{key:"initVideo",value:function(){var e=this,t=function(){if(e.home.current&&e.video.current){var t=e.home.current.clientWidth,a=e.home.current.clientHeight,r=t/a;r>B?(e.video.current.style.width=t+"px",e.video.current.style.height=t/B+"px"):r<B?(e.video.current.style.width=a*B+"px",e.video.current.style.height=a+"px"):(e.video.current.style.width=t,e.video.current.style.height=a)}e.state.ready||e.setState({ready:!0})};window.addEventListener("resize",t,!0),this.unresize=function(){window.removeEventListener("resize",t,!0)}}},{key:"onOpenDropdown",value:function(e){var t=this;h()(this.dropdowns).forEach((function(a){a!==e&&t.dropdowns[a].toggle(!1)}))}},{key:"onSelectMake",value:function(e){var t=e.target.value;this.setState({make:t,model:null,year:null}),this.props.dispatch(Object(x.F)(this.getSearchPayload("make",t))),this.props.dispatch(Object(x.I)(this.getSearchPayload("make",t))),this.props.dispatch(Object(A.w)({aircraft_make:t,limit:1e3}))}},{key:"onSelectModel",value:function(e){var t=e.target.value,a=this.props.aircraft.models.data||{};this.setState({model:t,year:null,years:u()(((a[t]||{}).years||[]).map((function(e){return[e,e]})))});var r=this.getSearchPayload("model",t);this.props.dispatch(Object(x.J)(r)),this.props.dispatch(Object(x.G)(r))}},{key:"toggleExtraFilters",value:function(e){e.preventDefault();var t=this.state.extra_filters;this.setState({extra_filters:!t})}},{key:"onSelectYear",value:function(e){var t=e.target.value;this.setState({year:t})}},{key:"onSelectCertificate",value:function(e){this.setState({certificate:e}),this.props.dispatch(Object(x.F)(this.getSearchPayload("certificate",e))),this.props.dispatch(Object(x.I)(this.getSearchPayload("certificate",e)))}},{key:"onSelectCategory",value:function(e){var t=e.target.value;this.setState({category:t}),this.props.dispatch(Object(x.F)(this.getSearchPayload("category",t))),this.props.dispatch(Object(x.I)(this.getSearchPayload("category",t)))}},{key:"onSelectManufacturer",value:function(e){var t=e.target.value;this.setState({manufacturer:t}),this.props.dispatch(Object(x.F)(this.getSearchPayload("manufacturer",t))),this.props.dispatch(Object(x.I)(this.getSearchPayload("manufacturer",t)))}},{key:"getSearchPayload",value:function(e,t){var a=this.state,r=a.make,n=a.model,c=a.manufacturer,o=a.category,i=a.certificate,s={make:r,model:n,year:a.year,manufacturer:c,category:o,certificate:i};return e&&(s[e]=t),s}},{key:"addAircraftToHangar",value:function(){var e=this.state,t=(e.make,e.model);if(t)return Object(w.h)(Object(A.p)({aircraft_model:t})).then((function(){Object(N.d)("/hangar")}))}},{key:"dispatchProductsCountFetch",value:function(e){var t=this.state;t.make,t.model,t.manufacturer,t.category,t.certificate;console.log(e),this.props.dispatch(Object(x.G)(e)),this.props.dispatch(Object(x.J)(e))}}]),a}(g.Component);t.default=Object(k.c)((function(e){var t=e.api,a=t.aircraft,r=t.product,n=(t.certificate,t.manufacturer),c=t.user;e.app.search;return{auth:c.auth,aircraft:{makes:a.makes,models:a.models},product:b()(r,["countAll","countAircraftMakes","countAircraftModels","countApprovedAircraftMakes","countApprovedAircraftModels","countCategories"]),categories:{category:r.category,categories:r.categories},manufacturer:{manufacturer:n.manufacturer,manufacturers:n.manufacturers}}}))(K)}}]);
//# sourceMappingURL=14.e8d09429.chunk.js.map