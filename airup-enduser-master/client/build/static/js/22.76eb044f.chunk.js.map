{"version":3,"sources":["components/login/Login.js"],"names":["Login","args","state","inputs","password","remember","user","bind","this","className","onSubmit","onSuccess","busy","error","input","autoComplete","caption","placeholder","placeholderLabel","required","type","count","to","disabled","variant","position","when","userLogin","then","userAuthorize","response","redirect","Component","connect"],"mappings":"yUAqBMA,E,kDAEJ,aAAsB,IAAD,iDAANC,EAAM,yBAANA,EAAM,uBACnB,+BAASA,KACJC,MAAQ,CACXC,OAAQ,CACNC,SAAU,GACVC,UAAU,EACVC,KAAM,KAGVC,YAAK,eAAM,CACT,WACA,cAXiB,E,qDAeX,IACAJ,EAAWK,KAAKN,MAAhBC,OACR,OACE,yBAAKM,UAAU,SACb,yBAAKA,UAAU,eACb,kBAAC,IAAD,MACA,kBAAC,IAAD,CAAMN,OAAQA,EAAQO,SAAUF,KAAKE,SAAUC,UAAWH,KAAKG,YAC5D,gBAAGC,EAAH,EAAGA,KAAMC,EAAT,EAASA,MAAOC,EAAhB,EAAgBA,MAAhB,OACC,oCACE,kBAAC,IAAD,iBACMA,EAAM,QADZ,CAEEC,aAAa,WACbC,QAAQ,oBACRC,YAAY,mBACZC,kBAAkB,EAClBC,UAAQ,KAEV,kBAAC,IAAD,iBACML,EAAM,YADZ,CAEEC,aAAa,mBACbN,UAAU,OACVQ,YAAY,WACZC,kBAAkB,EAClBE,KAAK,WACLD,UAAQ,KAEV,kBAAC,IAAD,CAAKV,UAAU,WACb,kBAAC,IAAD,CAAQY,MAAO,GACb,kBAAC,IAAaP,EAAM,YAApB,gBAEF,kBAAC,IAAD,CAAQO,MAAO,GACb,kBAAC,IAAD,CAAMC,GAAG,oBAAT,sBAGJ,yBAAKb,UAAU,WACb,kBAAC,IAAD,CAAQc,SAAUX,EAAMQ,KAAK,SAASI,QAAQ,OAA9C,SACA,kBAAC,IAAD,CAAOC,SAAS,iBAAiBZ,IAEnC,yBAAKJ,UAAU,QAAf,0BAC8B,kBAAC,IAAD,CAAMa,GAAG,aAAT,oB,+BAanCnB,GACP,OAAOuB,YAAKC,YAAUxB,IAASyB,MAAK,kBAClCF,YAAKG,oB,gCAOCC,GACRC,YAAS,e,GA/EOC,aAmFLC,uBAAQ,WACrB,MAAO,KADMA,CAEZjC","file":"static/js/22.76eb044f.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\n\nimport { bind } from '../../utils';\nimport { when } from '../../store';\nimport { redirect } from '../../routes';\nimport { userAuthorize, userLogin } from '../../api/user/actions';\nimport './Login.scss';\nimport Alert from '../utils/alert/Alert';\nimport Button from '../utils/Button';\nimport Checkbox from '../inputs/checkbox/Checkbox';\nimport Column from '../grid/Column';\nimport Form from '../utils/Form';\nimport Logo from '../header/Logo';\nimport Row from '../grid/Row';\nimport Text from '../inputs/text/Text';\n\n/**\n * Login component\n */\nclass Login extends Component {\n\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      inputs: {\n        password: '',\n        remember: false,\n        user: ''\n      }\n    }\n    bind(this, [\n      'onSubmit',\n      'onSuccess'\n    ]);\n  }\n\n  render() {\n    const { inputs } = this.state;\n    return (\n      <div className=\"Login\">\n        <div className=\"main expand\">\n          <Logo />\n          <Form inputs={inputs} onSubmit={this.onSubmit} onSuccess={this.onSuccess}>\n            {({ busy, error, input }) => (\n              <>\n                <Text\n                  {...input('user')}\n                  autoComplete=\"username\"\n                  caption=\"Username or email\"\n                  placeholder=\"Username / email\"\n                  placeholderLabel={true}\n                  required\n                />\n                <Text\n                  {...input('password')}\n                  autoComplete=\"current-password\"\n                  className=\"last\"\n                  placeholder=\"Password\"\n                  placeholderLabel={true}\n                  type=\"password\"\n                  required\n                />\n                <Row className=\"options\">\n                  <Column count={6}>\n                    <Checkbox {...input('remember')}>Remember me</Checkbox>\n                  </Column>\n                  <Column count={6}>\n                    <Link to=\"/forgot-password\">Forgot password?</Link>\n                  </Column>\n                </Row>\n                <div className=\"buttons\">\n                  <Button disabled={busy} type=\"submit\" variant=\"red\">Login</Button>\n                  <Alert position=\"bottom-center\">{error}</Alert>\n                </div>\n                <div className=\"foot\">\n                  Don&apos;t have an account? <Link to=\"/register\">Sign Up</Link>\n                </div>\n              </>\n            )}\n          </Form>\n        </div>\n      </div>\n    );\n  }\n\n  /**\n   * On submit\n   */\n  onSubmit(inputs) {\n    return when(userLogin(inputs)).then(() => (\n      when(userAuthorize())\n    ));\n  }\n\n  /**\n   * On login success\n   */\n  onSuccess(response) {\n    redirect('/hangar');\n  }\n}\n\nexport default connect(() => {\n  return {};\n})(Login);\n"],"sourceRoot":""}