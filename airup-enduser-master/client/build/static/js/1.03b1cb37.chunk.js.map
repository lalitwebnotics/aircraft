{"version":3,"sources":["components/utils/Button.js","components/inputs/checkbox/Checkbox.js","components/popups/Popup.js","components/popups/Confirm.js","components/utils/Nl2Br.js","components/inputs/dropdown/Dropdown.js","components/popups/Hangar.js"],"names":["Native","forwardRef","props","ref","omit","children","Button","className","size","variant","link","isUndefined","to","Tag","Link","options","type","clsx","Checkbox","args","bind","this","disabled","icon","value","active","onClick","toggle","onToggle","productId","isFunction","onChange","target","name","undefined","Component","Popup","busy","popup","createRef","state","show","trigger","pick","hide","freeze","Error","setTimeout","activate","setState","once","current","then","onShow","Promise","reject","deactivate","onHide","Confirm","cancel","cancelClick","content","message","noClose","ok","onTailNumberChange","onImageSelect","Nl2Br","tag","exclusive","title","call","onConfirm","e","resolve","catch","complete","isString","__html","replace","dangerouslySetInnerHTML","Dropdown","list","values","id","items","empty","length","noValue","toggleDropdown","label","position","map","key","selectItem","keys","click","watch","APP_CLICK","onInit","isEqual","scrollSelected","onOpen","offset","index","indexOf","childNodes","scrollTop","offsetTop","placeholder","Hangar","change","resetAircraft","added","aircraft","make","model","year","imageUrl","tailNumber","newImage","onCancel","dropdowns","makeList","makes","modelList","models","years","makeBusy","modelBusy","aircraftPresent","aircraft_model","_id","loggedOut","onSignUp","withoutAircraft","getCancelButton","getContent","getMessage","getOkButton","fetchMakes","aircraft_make","onSelectMake","AircraftAPI","getMakes","limit","data","keyBy","results","mapValues","err","console","error","params","preSelect","getModels","onSelectModel","dropdown","forEach","isHanger","push","unshift","initDropdown","onOpenDropdown","onSelectYear","join","src","File","window","URL","createObjectURL","alt","accept","htmlFor","removeImage","direct","fetchModels","fromPairs","files","fileInput","document","getElementById","redirect","when","createAircraft","updateAircraftHangar"],"mappings":"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","file":"static/js/1.03b1cb37.chunk.js","sourcesContent":["import isUndefined from 'lodash/isUndefined';\nimport omit from 'lodash/omit';\nimport React, { forwardRef } from 'react';\nimport { Link } from 'react-router-dom';\nimport clsx from 'clsx';\n\n/**\n * Native button\n */\nexport const Native = forwardRef((props, ref) => (\n  <button {...omit(props, ['children'])} ref={ref}>\n    {props.children}\n  </button>\n));\n\n/**\n * Button component\n */\nexport const Button = forwardRef((props, ref) => {\n  const { className, size, variant } = props,\n        link = !isUndefined(props.to),\n        Tag = link ? Link : Native,\n        options = {};\n  if (!link && isUndefined(props.type)) {\n    options.type = 'button';\n  }\n  return (\n    <Tag\n      {...omit(props, ['children', 'className'])}\n      {...options}\n      className={clsx(\n        'Button',\n        'btn',\n        variant ? ('btn-' + variant) : '',\n        size ? ('btn-' + size) : '' ,\n        className)}\n      ref={ref}>\n      {props.children}\n    </Tag>\n  );\n});\n\nexport default Button;\n","import isFunction from 'lodash/isFunction';\nimport React, { Component } from 'react';\nimport clsx from 'clsx';\n\nimport { bind } from '../../../utils';\nimport './Checkbox.scss';\nimport Icon from '..//../utils/Icon';\n\n/**\n * Checkbox\n */\nclass Checkbox extends Component {\n\n  constructor(...args) {\n    super(...args);\n    bind(this, [\n      'toggle'\n    ]);\n  }\n\n  render() {\n    const { children, className, disabled, icon = 'fa-check', size, value } = this.props;\n    return (\n      <label className={clsx('Checkbox', className, { active: value, disabled }, size ? ('checkbox-' + size) : '')} onClick={this.toggle}>\n        <span className=\"tick\">\n          <Icon value={icon} />\n        </span>\n        {(!children ? '' :\n          <span className=\"caption\">{children}</span>\n        )}\n      </label>\n    );\n  }\n\n  /**\n   * Toggle check\n   */\n  toggle() {\n    const { onToggle, productId } = this.props; \n    if (isFunction(this.props.onChange)) {\n      this.props.onChange({\n        target: {\n          name: this.props.name,\n          type: 'checkbox',\n          value: !this.props.value\n        }\n      });\n    }\n\n    if(onToggle !== undefined && isFunction(onToggle)){\n      this.props.onToggle(productId);\n    }\n  }\n}\n\nexport default Checkbox;\n","import isFunction from 'lodash/isFunction';\nimport isUndefined from 'lodash/isUndefined';\nimport pick from 'lodash/pick';\nimport React, { Component, createRef } from 'react';\nimport clsx from 'clsx';\n\nimport { bind, freeze, once } from '../../utils';\nimport './Popup.scss';\n\n/**\n * Popup component\n */\nexport default class Popup extends Component {\n\n  constructor(...args) {\n    super(...args);\n    this.busy = false;\n    this.popup = createRef();\n    this.state = {\n      active: false,\n      show: false\n    };\n    bind(this, [\n      'activate',\n      'deactivate',\n      'hide',\n      'show'\n    ]);\n  }\n\n  render() {\n    const { children, className, disabled, trigger } = this.props,\n          { active, show } = this.state;\n    return (\n      <>\n        {trigger(pick(this, ['show']))}\n        {(!show ? '' :\n          <div className={clsx('Popup', className, { active, disabled })} ref={this.popup} onClick={this.hide}>\n            <div className=\"popup-content\" onClick={freeze(this.props.onClick)}>\n              {children(pick(this, ['hide']))}\n            </div>\n          </div>\n        )}\n      </>\n    );\n  }\n\n  componentDidMount() {\n    if (isUndefined(this.props.trigger)) {\n      throw new Error('Trigger prop must be provided');\n    }\n  }\n\n  componentDidUpdate(props, { show }) {\n    if (this.state.show && this.state.show !== show) {\n      setTimeout(this.activate, 50);\n    }\n  }\n\n  /**\n   * Activate\n   */\n  activate() {\n    this.setState({\n      active: true\n    });\n    once(this.popup.current, 'transitionend').then(() => {\n      this.busy = false;\n      if (isFunction(this.props.onShow)) {\n        this.props.onShow();\n      }\n    });\n  }\n\n  /**\n   * Deactivate\n   */\n  deactivate() {\n    this.setState({\n      active: false\n    });\n  }\n\n  /**\n   * Hide\n   */\n  hide(...args) {\n    if (this.busy || this.props.disabled) {\n      return Promise.reject('Popup is busy or disabled');\n    }\n    this.busy = true;\n    this.deactivate();\n    return once(this.popup.current, 'transitionend').then(() => {\n      this.busy = false;\n      this.setState({\n        show: false\n      });\n      if (isFunction(this.props.onHide)) {\n        this.props.onHide(...args);\n      }\n      return this;\n    });\n  }\n\n  /**\n   * Show\n   */\n  show() {\n    if (this.busy || this.props.disabled) {\n      return;\n    }\n    this.busy = true;\n    this.setState({\n      show: true\n    });\n  }\n}\n","import isFunction from 'lodash/isFunction';\nimport React, { Component } from 'react';\nimport clsx from 'clsx';\n\nimport { bind, call } from '../../utils';\nimport Popup from './Popup';\nimport './Confirm.scss';\nimport Button from '../utils/Button';\nimport Nl2Br from '../utils/Nl2Br';\n\n/**\n * Confirm popup component\n */\nexport default class Confirm extends Component {\n\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      busy: false\n    };\n    bind(this, [\n      'onConfirm'\n    ]);\n  }\n\n  render() {\n    const { cancel = {}, children, className, cancelClick, content, noClose = false, message, ok = {}, onTailNumberChange,\n        onImageSelect } = this.props,\n          { busy } = this.state;\n    return (\n      <Popup className={clsx('Confirm', className)} disabled={busy} trigger={children}>\n        {({ hide }) => (\n          <>\n            <Nl2Br tag=\"p\">{message}</Nl2Br>\n            {(content ? content : <></>)}\n\n            <div className={clsx('buttons', { exclusive: !!ok.exclusive })}>\n              {(ok.exclusive ? <></> :\n                <Button variant={cancel.variant || 'dark-blue'} className=\"cancel\" disabled={busy} onClick={cancelClick ? cancelClick(hide) : hide}>\n                  {cancel.title || 'Cancel'}\n                </Button>\n              )}\n              {!ok.hide && <Button variant={ok.variant || 'empty'} className=\"ok\" disabled={busy} onClick={call(this.onConfirm, hide)}>\n                {ok.title || 'OK'}\n              </Button>}\n            </div>\n          </>\n        )}\n      </Popup>\n    );\n  }\n\n  onConfirm(hide, e) {\n    if (isFunction(this.props.onConfirm)) {\n      this.setState({\n        busy: true\n      });\n      Promise.resolve(this.props.onConfirm(e)).catch(() => null).then((complete = true) => {\n        this.setState({\n          busy: false\n        });\n        if (complete !== false) {\n          Promise.resolve(hide()).catch(() => null).then(() => {\n            if (isFunction(complete)) {\n              complete();\n            }\n          });\n        }\n      });\n    }\n  }\n}\n","import isString from 'lodash/isString';\nimport isUndefined from 'lodash/isUndefined';\nimport React from 'react';\n\n/**\n * New line to BR\n */\nexport default function Nl2Br({ children, className, tag }) {\n  if (isUndefined(children)) {\n    return <></>;\n  }\n  if (!isString(children)) {\n    throw new Error('Content must be a string');\n  }\n  const Tag = tag || 'div',\n        __html = children.replace(/(?:\\r\\n|\\r|\\n)/g, '<br />');\n  return (\n    <Tag className={className} dangerouslySetInnerHTML={{ __html }}></Tag>\n  );\n}\n","import isEqual from 'lodash/isEqual';\nimport isFunction from 'lodash/isFunction';\nimport isUndefined from 'lodash/isUndefined';\nimport keys from 'lodash/keys';\nimport React, { Component, createRef } from 'react';\nimport clsx from 'clsx';\n\nimport { bind, call, freeze } from '../../../utils';\nimport { watch } from '../../../store';\nimport { APP_CLICK } from '../../app/actions';\nimport './Dropdown.scss';\nimport Icon from '../../utils/Icon';\nimport Loader from '../../utils/loader/Loader';\n\n/**\n * Dropdown Component\n */\nclass Dropdown extends Component {\n\n  constructor(...args) {\n    super(...args);\n    bind(this, [\n      'selectItem',\n      'toggleDropdown'\n    ]);\n    this.ref = createRef();\n    this.list = createRef();\n    this.state = {\n      active: false,\n      ref: null,\n      value: null,\n      values: []\n    };\n  }\n\n  render() {\n    const { busy, id } = this.props,\n          items = this.items,\n          { active, values } = this.state,\n          empty = !values.length,\n          noValue = (this.state.value === null);\n    return (\n      <div className={clsx('Dropdown', { active, empty, 'no-value': noValue }, this.props.className)} id={id} ref={this.ref}>\n        <div className=\"dropdown-select\" onClick={freeze(this.toggleDropdown)}>\n          {(busy ?\n            <Loader /> :\n            <>\n              <span>{this.label}</span>\n              <Icon className=\"arrow\" value=\"fas-caret-down\" />\n            </>\n          )}\n        </div>\n        <div className={clsx('dropdown-items', 'position-' + this.position)}>\n          <ul ref={this.list}>\n            {(empty ?\n              <li className=\"disabled italic\">\n                <span>{this.props.empty || 'No items available...'}</span>\n              </li> :\n              values.map((value) => (\n                <li key={value} className={clsx({ active: (value === this.state.value) })} onClick={call(this.selectItem, value)}>\n                  <span>{items[value]}</span>\n                </li>\n              ))\n            )}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    this.setState({\n      values: keys(this.items)\n    });\n    this.click = watch([APP_CLICK], () => {\n      this.toggleDropdown(false);\n    });\n    if (isFunction(this.props.onInit)) {\n      this.props.onInit({\n        id: this.props.id,\n        toggle: this.toggleDropdown\n      });\n    }\n  }\n\n  componentDidUpdate({ items }) {\n    if (!isEqual(this.props.items, items)) {\n      this.setState({\n        values: keys(this.items)\n      });\n    }\n    if (this.props.value !== this.state.value) {\n      this.setState({\n        value: this.props.value\n      });\n    }\n    if ((this.state.value !== null) && isUndefined(this.items[this.state.value])) {\n      this.selectItem(null);\n    }\n    if (this.state.active) {\n      this.scrollSelected();\n    }\n  }\n\n  componentWillUnmount() {\n    this.click.cancel();\n  }\n\n  /**\n   * Items\n   */\n  get items() {\n    return this.props.items || {};\n  }\n\n  /**\n   * Label\n   */\n  get label() {\n    const label = this.items[this.state.value];\n    if (isUndefined(label)) {\n      return this.props.placeholder || 'Select item';\n    } else {\n      return label;\n    }\n  }\n\n  /**\n   * Position\n   */\n  get position() {\n    return this.props.position || 'center';\n  }\n\n  /**\n   * Open dropdown\n   */\n  toggleDropdown(active = !this.state.active) {\n    if (active !== this.state.active) {\n      this.setState({\n        active\n      });\n      if (active && isFunction(this.props.onOpen)) {\n        this.props.onOpen(this.props.id);\n      }\n    }\n  }\n\n  /**\n   * Scroll selected\n   */\n  scrollSelected(offset = -16) {\n    if (this.state.value) {\n      const index = this.state.values.indexOf(this.state.value),\n            target = this.list.current.childNodes[index];\n      if (target) {\n        this.list.current.scrollTop = target.offsetTop + offset;\n      }\n    } else {\n      this.list.current.scrollTop = 0;\n    }\n  }\n\n  /**\n   * Select item\n   */\n  selectItem(value) {\n    this.setState({\n      active: false,\n      value\n    });\n    if (value !== this.state.value && isFunction(this.props.onChange)) {\n      this.props.onChange({\n        target: {\n          name: this.props.name,\n          type: 'dropdown',\n          value\n        }\n      });\n    }\n  }\n}\n\nexport default Dropdown;\n","import React, { Component, Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport clsx from 'clsx';\n\nimport { redirect } from '../../routes';\nimport { when } from '../../store';\nimport { bind, call } from '../../utils';\nimport { createAircraft, getAircraftMakes, getAircraftModels, updateAircraftHangar } from '../../api/aircraft/actions';\nimport { aircraft as AircraftAPI } from '../../api';\nimport Confirm from './Confirm';\nimport './Hangar.scss';\nimport Icon from '../utils/Icon';\nimport Button from \"../utils/Button\";\nimport { fromPairs, isEmpty, keyBy, keys, mapValues } from 'lodash';\nimport { connect } from 'react-redux';\nimport Dropdown from '../inputs/dropdown/Dropdown';\n\n/**\n * Hangar popup\n */\nexport default class Hangar extends Component {\n\n  constructor(...args) {\n    super(...args);\n\n    this.dropdowns = {};\n    this.state = {\n      makeList: {},\n      makes: {},\n      modelList: {},\n      models: {},\n      years: {},\n      tailNumber: null,\n      imageUrl: null,\n      newImage: null,\n      makeBusy: false,\n      modelBusy: false,\n      added: false,\n      change: false\n    };\n    bind(this, [\n      'onConfirm',\n      'onSignUp',\n      'fetchMakes',\n      'fetchModels',\n      'resetAircraft',\n      'initDropdown',\n      'onOpenDropdown',\n      'getCancelButton',\n      'getContent',\n      'onSelectMake',\n      'onSelectModel',\n      'onSelectYear',\n      'getMessage',\n      'getOkButton',\n      'onTailNumberChange',\n      'onImageSelect',\n      'removeImage'\n    ]);\n  }\n\n  render() {\n    const aircraftPresent = this.state.aircraft && this.state.aircraft.aircraft_model && this.state.aircraft.aircraft_model._id;\n    return (\n      <Fragment>\n        {this.props.loggedOut && <Confirm\n          message=\"Register to start tracking the latest updates!\"\n          ok={{\n            exclusive: true,\n            title: 'Sign Up',\n            variant: 'red'\n          }}\n          onConfirm={this.onSignUp}>\n          {this.props.children}\n        </Confirm>}\n\n        {!this.props.loggedOut && (this.props.withoutAircraft || aircraftPresent) && <Confirm\n          className=\"HangarPopup\"\n          cancel={this.getCancelButton()}\n          cancelClick={this.cancelClick}\n          content={this.getContent()}\n          message={this.getMessage()}\n          ok={this.getOkButton()}\n          onConfirm={this.onConfirm}>\n          {this.props.children}\n        </Confirm>}\n\n      </Fragment>\n\n    );\n  }\n\n  componentDidMount() {\n    this.fetchMakes();\n  }\n\n  componentDidUpdate(props) {\n    const { year, aircraft_model: { _id: model } = {} } = this.props.aircraft || {};\n    if (\n      this.props.aircraft && (\n        (\n          props.aircraft && (\n            props.aircraft.year != year ||\n            props.aircraft.aircraft_model._id != model\n          )\n        ) || (\n          !props.aircraft\n        )\n      )\n    ) {\n      this.setState({\n        aircraft: this.props.aircraft,\n        tailNumber: this.props.aircraft.tailNumber,\n        imageUrl: this.props.aircraft.imageUrl\n      }, () => {\n        const { aircraft_make: { _id: value } = {} } = this.props.aircraft.aircraft_model;\n        this.onSelectMake({ target: { value } }, true);\n      });\n    }\n  }\n\n  cancelClick = (hide) => () => {\n    if (this.state.change) {\n      return this.resetAircraft();\n    }\n    const added = this.state.added;\n    this.setState({\n      aircraft: null,\n      make: null,\n      model: null,\n      year: null,\n      imageUrl: null,\n      tailNumber: null,\n      newImage: null,\n      added: false\n    }, () => {\n      if (typeof this.props.onCancel === 'function') {\n        this.props.onCancel(added);\n      }\n      hide();\n    })\n  }\n\n  fetchMakes() {\n    this.setState({ makeBusy: true });\n    AircraftAPI.getMakes({\n      limit: 1000\n    })\n      .then((data) => {\n        const makeList = keyBy(data.results, '_id');\n        this.setState({ makeBusy: false, makes: mapValues(makeList, 'name'), makeList });\n      })\n      .catch((err) => {\n        this.setState({ makeBusy: false });\n        console.error('error while fetching makes hanger popup', err);\n      })\n  }\n\n  fetchModels(params, preSelect) {\n    this.setState({ modelBusy: true, modelList: {}, models: {} });\n    AircraftAPI.getModels(params)\n      .then((data) => {\n        const modelList = keyBy(data.results, '_id');\n        this.setState({ modelBusy: false, models: mapValues(modelList, 'name'), modelList }, () => {\n          if (preSelect) {\n            this.onSelectModel({ target: { value: preSelect } }, true);\n          }\n        });\n      })\n      .catch((err) => {\n        this.setState({ modelBusy: false });\n        console.error('error while fetching models hanger popup', err);\n      })\n  }\n\n  /**\n   * Init dropdown\n   */\n  initDropdown(dropdown) {\n    this.dropdowns[dropdown.id] = dropdown;\n  }\n\n  /**\n   * On open dropdown\n   */\n  onOpenDropdown(id) {\n    keys(this.dropdowns).forEach((key) => {\n      if (key !== id) {\n        this.dropdowns[key].toggle(false);\n      }\n    });\n  }\n\n  /**\n   * Get cancel button\n   */\n  getCancelButton() {\n    return {\n      title: this.state.change ? 'Reset' : (this.state.added ? (this.props.isHanger ? 'Back to Hanger' : 'Return to Search') : 'Cancel'),\n      variant: this.state.change ? 'light-blue' : 'empty'\n    };\n  }\n\n  /**\n   * Get content\n   */\n  getContent() {\n    if (!this.state.change && !this.state.aircraft) {\n      return <div className={clsx('selected-aircraft', { added: this.state.added })}>\n        <span className=\"link\" onClick={() => this.setState({ change: true })}>Select Aircraft</span>\n      </div>;\n    }\n    const name = [];\n    if (this.state.aircraft) {\n      name.push(this.state.aircraft.aircraft_model.aircraft_make.name);\n      name.push(this.state.aircraft.aircraft_model.name);\n      if (this.state.aircraft.year) {\n        name.unshift(this.state.aircraft.year)\n      }\n    }\n    const { make, makes, model, models, year, years, makeBusy, modelBusy } = this.state;\n    return this.state.change ? (\n      <>\n        <div className=\"hanger-input-row\">\n          <div className=\"input\">\n            <Dropdown\n              busy={makeBusy}\n              className=\"dropdown-make\"\n              empty=\"No makes available...\"\n              id=\"dropdown-make\"\n              items={makes}\n              onChange={this.onSelectMake}\n              onInit={call(this.initDropdown)}\n              onOpen={call(this.onOpenDropdown)}\n              placeholder=\"Select a manufacturer\"\n              position=\"left\"\n              value={make}\n            />\n          </div>\n          <div className=\"input\">\n            <Dropdown\n              busy={modelBusy}\n              className=\"dropdown-model\"\n              empty=\"No models available...\"\n              id=\"dropdown-model\"\n              items={models}\n              onChange={this.onSelectModel}\n              onInit={call(this.initDropdown)}\n              onOpen={call(this.onOpenDropdown)}\n              placeholder=\"Model\"\n              value={model}\n            />\n          </div>\n          <div className=\"input\">\n            <Dropdown\n              className=\"dropdown-year\"\n              empty=\"No years available...\"\n              id=\"dropdown-year\"\n              items={years}\n              onChange={this.onSelectYear}\n              onInit={call(this.initDropdown)}\n              onOpen={call(this.onOpenDropdown)}\n              placeholder=\"Year\"\n              position=\"right\"\n              value={year}\n            />\n          </div>\n        </div>\n      </>\n    ) : (<>\n      <div className={clsx('selected-aircraft', { added: this.state.added })}>\n        <span>{name.join(' ')}</span>\n        {(this.state.added ?\n          <Icon value=\"fa-check\" /> :\n          <span className=\"link\" onClick={() => this.setState({ change: true })}>Change</span>\n        )}\n      </div>\n      <div className=\"hanger-input-col\">\n        <div className=\"input\">\n          <span className=\"input-label\">Aircraft Tail Number(Optional)</span>\n          <input type=\"text\" disabled={this.state.added} value={this.state.tailNumber} placeholder={\"Please Enter tail Number\"} onChange={this.onTailNumberChange} />\n        </div>\n        <div className=\"input\">\n          <span className=\"input-label\">Upload Picture of Your Aircraft</span>\n          {(this.state.newImage || this.state.imageUrl) && <img src={this.state.newImage && this.state.newImage instanceof File ? window.URL.createObjectURL(this.state.newImage) : this.state.imageUrl} alt=\"aircraft-image\"/>}\n          <input id=\"aircraft-image\" type=\"file\" accept=\"image/*\" disabled={this.state.added} onChange={this.onImageSelect} />\n          <div className=\"file-btns\">\n            <label htmlFor=\"aircraft-image\">\n              {(this.state.newImage || this.state.imageUrl) ? 'Replace' : 'Add'} Picture\n            </label>\n            {(this.state.newImage || this.state.imageUrl) && <label onClick={this.removeImage}>Remove Picture</label>}\n          </div>\n        </div>\n      </div>\n    </>)\n  }\n\n  /**\n   * On select make\n   */\n  onSelectMake({ target: { value } }, direct = false) {\n\n    const { aircraft } = this.state;\n    const { year = null, aircraft_model: { _id: model = null } = {} } = aircraft || {};\n\n    this.setState({\n      make: value,\n      model: direct ? model : null,\n      year: direct ? year : null\n    });\n\n    this.fetchModels({\n      aircraft_make: value,\n      limit: 1000\n    }, model);\n  }\n\n  /**\n   * On select model\n   */\n  onSelectModel({ target: { value } }, direct = false) {\n    const { aircraft, modelList: models = {} } = this.state;\n    const { year = null } = aircraft || {};\n\n    this.setState({\n      model: value,\n      year: direct ? year : null,\n      years: fromPairs(\n        ((models[value] || {}).years || [])\n          .map((year) => ([year, year]))\n      )\n    });\n  }\n\n  /**\n   * On select year\n   */\n  onSelectYear({ target: { value } }) {\n    this.setState({\n      year: value\n    });\n  }\n\n  onTailNumberChange({ target: { value } }) {\n    this.setState({\n      tailNumber: value\n    });\n  }\n\n  onImageSelect({ target: { files } }) {\n    if (files.length) {\n      this.setState({\n        newImage: files[0]\n      });\n    }\n  }\n\n  removeImage() {\n    const fileInput = document.getElementById('aircraft-image');\n    if (fileInput) {\n      fileInput.value = '';\n    }\n    this.setState({\n      newImage: null,\n      imageUrl: null\n    });\n  }\n\n  /**\n   * Get message\n   */\n  getMessage() {\n    return this.state.added ?\n      'Your aircraft has been added to the hangar, and will begin populating products compatible products.' :\n      'Are you sure you want to add this plane to your hangar to start tracking related FAA-Approved products?';\n  }\n\n  /**\n   * Get ok button\n   */\n  getOkButton() {\n    return {\n      title: this.state.change ? 'Update Aircraft' : (this.state.added ? 'Go to Hangar' : 'Add to Hangar'),\n      variant: 'dark-blue',\n      hide: this.props.isHanger && this.state.added\n    };\n  }\n\n  /**\n   * On Reset change aircraft\n   */\n  resetAircraft() {\n    const { aircraft } = this.props;\n    const { year = null, aircraft_model: { _id: model = null, aircraft_make: { _id: make = null } = {} } = {} } = aircraft || {};\n    this.setState({\n      aircraft,\n      make,\n      model,\n      year,\n      change: false\n    }, () => {\n      if (make) {\n        this.onSelectMake({ target: { value: make } });\n      }\n    });\n  }\n\n  /**\n   * On confirm\n   */\n  onConfirm() {\n    if (this.state.change) {\n      const { model, year, modelList } = this.state;\n      this.setState({\n        aircraft: {\n          aircraft_model: {\n            _id: model,\n            ...modelList[model]\n          },\n          ...(year ? { year } : {})\n        },\n        change: false\n      });\n      return false;\n    }\n    if (this.state.added) {\n      return () => {\n        redirect('/hangar');\n      };\n    }\n    return when(createAircraft({\n      aircraft_model: this.state.aircraft.aircraft_model._id,\n      ...(!this.state.aircraft.year ? {} : {\n        year: this.state.aircraft.year,\n      }),\n      tailNumber: this.state.tailNumber,\n      imageUrl: this.state.imageUrl,\n      newImage: this.state.newImage,\n    })).then(() => {\n      this.setState({\n        added: true\n      });\n      return false;\n    });\n  }\n\n  onUpdate() {\n    if (this.state.change) {\n      const { model, year, modelList } = this.state;\n      this.setState({\n        aircraft: {\n          aircraft_model: {\n            _id: model,\n            ...modelList[model]\n          },\n          ...(year ? { year } : {})\n        },\n        change: false\n      });\n      return false;\n    }\n    if (this.state.added) {\n      return () => {\n        redirect('/hangar');\n      };\n    }\n    return when(updateAircraftHangar({\n      aircraft_model: this.state.aircraft.aircraft_model._id,\n      ...(!this.state.aircraft.year ? {} : {\n        year: this.state.aircraft.year,\n      }),\n      tailNumber: this.state.tailNumber,\n      imageUrl: this.state.imageUrl,\n      newImage: this.state.newImage,\n    })).then(() => {\n      this.setState({\n        added: true\n      });\n      return false;\n    });\n  }\n\n  /**\n   * On Signup\n   */\n  onSignUp() {\n    return () => {\n      redirect('/register');\n    };\n  }\n}\n"],"sourceRoot":""}